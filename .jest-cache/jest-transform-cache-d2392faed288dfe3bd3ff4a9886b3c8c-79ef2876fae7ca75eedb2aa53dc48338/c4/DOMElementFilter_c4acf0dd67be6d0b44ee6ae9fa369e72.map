{"version":3,"names":["Object","defineProperty","exports","value","default","createDOMElementFilter","test","escapeHTML","str","replace","printProps","keys","props","config","indentation","depth","refs","printer","indentationNext","indent","colors","map","key","printed","indexOf","spacingOuter","spacingInner","prop","open","close","join","NodeTypeTextNode","printChildren","children","child","printedChild","printText","nodeType","text","contentColor","content","printComment","comment","commentColor","printElement","type","printedProps","printedChildren","tagColor","tag","min","printElementAsLeaf","ELEMENT_NODE","TEXT_NODE","COMMENT_NODE","FRAGMENT_NODE","ELEMENT_REGEXP","isCustomElement","val","tagName","Boolean","includes","hasAttribute","testNode","constructorName","constructor","name","nodeIsText","node","nodeIsComment","nodeIsFragment","filterNode","serialize","data","toLowerCase","maxDepth","Array","from","attributes","attr","sort","reduce","attribute","prototype","slice","call","childNodes","filter"],"sources":["DOMElementFilter.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createDOMElementFilter;\nexports.test = void 0;\n/**\n * Source: https://github.com/facebook/jest/blob/e7bb6a1e26ffab90611b2593912df15b69315611/packages/pretty-format/src/plugins/DOMElement.ts\n */\n/* eslint-disable -- trying to stay as close to the original as possible */\n/* istanbul ignore file */\n\nfunction escapeHTML(str) {\n  return str.replace(/</g, '&lt;').replace(/>/g, '&gt;');\n}\n// Return empty string if keys is empty.\nconst printProps = (keys, props, config, indentation, depth, refs, printer) => {\n  const indentationNext = indentation + config.indent;\n  const colors = config.colors;\n  return keys.map(key => {\n    const value = props[key];\n    let printed = printer(value, config, indentationNext, depth, refs);\n    if (typeof value !== 'string') {\n      if (printed.indexOf('\\n') !== -1) {\n        printed = config.spacingOuter + indentationNext + printed + config.spacingOuter + indentation;\n      }\n      printed = '{' + printed + '}';\n    }\n    return config.spacingInner + indentation + colors.prop.open + key + colors.prop.close + '=' + colors.value.open + printed + colors.value.close;\n  }).join('');\n};\n\n// https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeType#node_type_constants\nconst NodeTypeTextNode = 3;\n\n// Return empty string if children is empty.\nconst printChildren = (children, config, indentation, depth, refs, printer) => children.map(child => {\n  const printedChild = typeof child === 'string' ? printText(child, config) : printer(child, config, indentation, depth, refs);\n  if (printedChild === '' && typeof child === 'object' && child !== null && child.nodeType !== NodeTypeTextNode) {\n    // A plugin serialized this Node to '' meaning we should ignore it.\n    return '';\n  }\n  return config.spacingOuter + indentation + printedChild;\n}).join('');\nconst printText = (text, config) => {\n  const contentColor = config.colors.content;\n  return contentColor.open + escapeHTML(text) + contentColor.close;\n};\nconst printComment = (comment, config) => {\n  const commentColor = config.colors.comment;\n  return commentColor.open + '<!--' + escapeHTML(comment) + '-->' + commentColor.close;\n};\n\n// Separate the functions to format props, children, and element,\n// so a plugin could override a particular function, if needed.\n// Too bad, so sad: the traditional (but unnecessary) space\n// in a self-closing tagColor requires a second test of printedProps.\nconst printElement = (type, printedProps, printedChildren, config, indentation) => {\n  const tagColor = config.colors.tag;\n  return tagColor.open + '<' + type + (printedProps && tagColor.close + printedProps + config.spacingOuter + indentation + tagColor.open) + (printedChildren ? '>' + tagColor.close + printedChildren + config.spacingOuter + indentation + tagColor.open + '</' + type : (printedProps && !config.min ? '' : ' ') + '/') + '>' + tagColor.close;\n};\nconst printElementAsLeaf = (type, config) => {\n  const tagColor = config.colors.tag;\n  return tagColor.open + '<' + type + tagColor.close + ' â€¦' + tagColor.open + ' />' + tagColor.close;\n};\nconst ELEMENT_NODE = 1;\nconst TEXT_NODE = 3;\nconst COMMENT_NODE = 8;\nconst FRAGMENT_NODE = 11;\nconst ELEMENT_REGEXP = /^((HTML|SVG)\\w*)?Element$/;\nconst isCustomElement = val => {\n  const {\n    tagName\n  } = val;\n  return Boolean(typeof tagName === 'string' && tagName.includes('-') || typeof val.hasAttribute === 'function' && val.hasAttribute('is'));\n};\nconst testNode = val => {\n  const constructorName = val.constructor.name;\n  const {\n    nodeType\n  } = val;\n  return nodeType === ELEMENT_NODE && (ELEMENT_REGEXP.test(constructorName) || isCustomElement(val)) || nodeType === TEXT_NODE && constructorName === 'Text' || nodeType === COMMENT_NODE && constructorName === 'Comment' || nodeType === FRAGMENT_NODE && constructorName === 'DocumentFragment';\n};\nconst test = val => (val?.constructor?.name || isCustomElement(val)) && testNode(val);\nexports.test = test;\nfunction nodeIsText(node) {\n  return node.nodeType === TEXT_NODE;\n}\nfunction nodeIsComment(node) {\n  return node.nodeType === COMMENT_NODE;\n}\nfunction nodeIsFragment(node) {\n  return node.nodeType === FRAGMENT_NODE;\n}\nfunction createDOMElementFilter(filterNode) {\n  return {\n    test: val => (val?.constructor?.name || isCustomElement(val)) && testNode(val),\n    serialize: (node, config, indentation, depth, refs, printer) => {\n      if (nodeIsText(node)) {\n        return printText(node.data, config);\n      }\n      if (nodeIsComment(node)) {\n        return printComment(node.data, config);\n      }\n      const type = nodeIsFragment(node) ? `DocumentFragment` : node.tagName.toLowerCase();\n      if (++depth > config.maxDepth) {\n        return printElementAsLeaf(type, config);\n      }\n      return printElement(type, printProps(nodeIsFragment(node) ? [] : Array.from(node.attributes).map(attr => attr.name).sort(), nodeIsFragment(node) ? {} : Array.from(node.attributes).reduce((props, attribute) => {\n        props[attribute.name] = attribute.value;\n        return props;\n      }, {}), config, indentation + config.indent, depth, refs, printer), printChildren(Array.prototype.slice.call(node.childNodes || node.children).filter(filterNode), config, indentation + config.indent, depth, refs, printer), config, indentation);\n    }\n  };\n}"],"mappings":"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","ignoreList":[]}