{"version":3,"names":["UI","require","cursor","selection","setSelection","moveSelection","node","direction","hasOwnSelection","getUISelection","focusNode","focusOffset","startOffset","endOffset","ownerDocument","getSelection","undefined","isCollapsed","nextPosition","getNextCursorPosition","offset","exports"],"sources":["moveSelection.js"],"sourcesContent":["'use strict';\n\nvar UI = require('../../document/UI.js');\nrequire('../../utils/dataTransfer/Clipboard.js');\nvar cursor = require('../../utils/focus/cursor.js');\nvar selection = require('../../utils/focus/selection.js');\nvar setSelection = require('./setSelection.js');\n\n/**\n * Move the selection\n */ function moveSelection(node, direction) {\n    // TODO: implement shift\n    if (selection.hasOwnSelection(node)) {\n        const selection = UI.getUISelection(node);\n        setSelection.setSelection({\n            focusNode: node,\n            focusOffset: selection.startOffset === selection.endOffset ? selection.focusOffset + direction : direction < 0 ? selection.startOffset : selection.endOffset\n        });\n    } else {\n        const selection = node.ownerDocument.getSelection();\n        if (!(selection === null || selection === undefined ? undefined : selection.focusNode)) {\n            return;\n        }\n        if (selection.isCollapsed) {\n            const nextPosition = cursor.getNextCursorPosition(selection.focusNode, selection.focusOffset, direction);\n            if (nextPosition) {\n                setSelection.setSelection({\n                    focusNode: nextPosition.node,\n                    focusOffset: nextPosition.offset\n                });\n            }\n        } else {\n            selection[direction < 0 ? 'collapseToStart' : 'collapseToEnd']();\n        }\n    }\n}\n\nexports.moveSelection = moveSelection;\n"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,EAAE,GAAGC,OAAO,CAAC,sBAAsB,CAAC;AACxCA,OAAO,CAAC,uCAAuC,CAAC;AAChD,IAAIC,MAAM,GAAGD,OAAO,CAAC,6BAA6B,CAAC;AACnD,IAAIE,SAAS,GAAGF,OAAO,CAAC,gCAAgC,CAAC;AACzD,IAAIG,YAAY,GAAGH,OAAO,CAAC,mBAAmB,CAAC;;AAE/C;AACA;AACA;AAAI,SAASI,aAAaA,CAACC,IAAI,EAAEC,SAAS,EAAE;EACxC;EACA,IAAIJ,SAAS,CAACK,eAAe,CAACF,IAAI,CAAC,EAAE;IACjC,MAAMH,SAAS,GAAGH,EAAE,CAACS,cAAc,CAACH,IAAI,CAAC;IACzCF,YAAY,CAACA,YAAY,CAAC;MACtBM,SAAS,EAAEJ,IAAI;MACfK,WAAW,EAAER,SAAS,CAACS,WAAW,KAAKT,SAAS,CAACU,SAAS,GAAGV,SAAS,CAACQ,WAAW,GAAGJ,SAAS,GAAGA,SAAS,GAAG,CAAC,GAAGJ,SAAS,CAACS,WAAW,GAAGT,SAAS,CAACU;IACvJ,CAAC,CAAC;EACN,CAAC,MAAM;IACH,MAAMV,SAAS,GAAGG,IAAI,CAACQ,aAAa,CAACC,YAAY,CAAC,CAAC;IACnD,IAAI,EAAEZ,SAAS,KAAK,IAAI,IAAIA,SAAS,KAAKa,SAAS,GAAGA,SAAS,GAAGb,SAAS,CAACO,SAAS,CAAC,EAAE;MACpF;IACJ;IACA,IAAIP,SAAS,CAACc,WAAW,EAAE;MACvB,MAAMC,YAAY,GAAGhB,MAAM,CAACiB,qBAAqB,CAAChB,SAAS,CAACO,SAAS,EAAEP,SAAS,CAACQ,WAAW,EAAEJ,SAAS,CAAC;MACxG,IAAIW,YAAY,EAAE;QACdd,YAAY,CAACA,YAAY,CAAC;UACtBM,SAAS,EAAEQ,YAAY,CAACZ,IAAI;UAC5BK,WAAW,EAAEO,YAAY,CAACE;QAC9B,CAAC,CAAC;MACN;IACJ,CAAC,MAAM;MACHjB,SAAS,CAACI,SAAS,GAAG,CAAC,GAAG,iBAAiB,GAAG,eAAe,CAAC,CAAC,CAAC;IACpE;EACJ;AACJ;AAEAc,OAAO,CAAChB,aAAa,GAAGA,aAAa","ignoreList":[]}