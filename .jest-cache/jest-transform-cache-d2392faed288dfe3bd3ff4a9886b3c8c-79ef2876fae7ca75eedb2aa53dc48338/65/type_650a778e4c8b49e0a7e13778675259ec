4be50d4bd5e5750e87dfcccae0cb372a
'use strict';

var index = require('../keyboard/index.js');
require('../utils/dataTransfer/Clipboard.js');
var setSelectionRange = require('../event/selection/setSelectionRange.js');
async function type(element, text, {
  skipClick = this.config.skipClick,
  skipAutoClose = this.config.skipAutoClose,
  initialSelectionStart,
  initialSelectionEnd
} = {}) {
  // TODO: properly type guard
  // we use this workaround for now to prevent changing behavior
  if (element.disabled) return;
  if (!skipClick) {
    await this.click(element);
  }
  if (initialSelectionStart !== undefined) {
    setSelectionRange.setSelectionRange(element, initialSelectionStart, initialSelectionEnd !== null && initialSelectionEnd !== undefined ? initialSelectionEnd : initialSelectionStart);
  }
  await this.keyboard(text);
  if (!skipAutoClose) {
    await index.releaseAllKeys(this);
  }
}
exports.type = type;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpbmRleCIsInJlcXVpcmUiLCJzZXRTZWxlY3Rpb25SYW5nZSIsInR5cGUiLCJlbGVtZW50IiwidGV4dCIsInNraXBDbGljayIsImNvbmZpZyIsInNraXBBdXRvQ2xvc2UiLCJpbml0aWFsU2VsZWN0aW9uU3RhcnQiLCJpbml0aWFsU2VsZWN0aW9uRW5kIiwiZGlzYWJsZWQiLCJjbGljayIsInVuZGVmaW5lZCIsImtleWJvYXJkIiwicmVsZWFzZUFsbEtleXMiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsidHlwZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBpbmRleCA9IHJlcXVpcmUoJy4uL2tleWJvYXJkL2luZGV4LmpzJyk7XG5yZXF1aXJlKCcuLi91dGlscy9kYXRhVHJhbnNmZXIvQ2xpcGJvYXJkLmpzJyk7XG52YXIgc2V0U2VsZWN0aW9uUmFuZ2UgPSByZXF1aXJlKCcuLi9ldmVudC9zZWxlY3Rpb24vc2V0U2VsZWN0aW9uUmFuZ2UuanMnKTtcblxuYXN5bmMgZnVuY3Rpb24gdHlwZShlbGVtZW50LCB0ZXh0LCB7IHNraXBDbGljayA9IHRoaXMuY29uZmlnLnNraXBDbGljaywgc2tpcEF1dG9DbG9zZSA9IHRoaXMuY29uZmlnLnNraXBBdXRvQ2xvc2UsIGluaXRpYWxTZWxlY3Rpb25TdGFydCwgaW5pdGlhbFNlbGVjdGlvbkVuZCB9ID0ge30pIHtcbiAgICAvLyBUT0RPOiBwcm9wZXJseSB0eXBlIGd1YXJkXG4gICAgLy8gd2UgdXNlIHRoaXMgd29ya2Fyb3VuZCBmb3Igbm93IHRvIHByZXZlbnQgY2hhbmdpbmcgYmVoYXZpb3JcbiAgICBpZiAoZWxlbWVudC5kaXNhYmxlZCkgcmV0dXJuO1xuICAgIGlmICghc2tpcENsaWNrKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuY2xpY2soZWxlbWVudCk7XG4gICAgfVxuICAgIGlmIChpbml0aWFsU2VsZWN0aW9uU3RhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzZXRTZWxlY3Rpb25SYW5nZS5zZXRTZWxlY3Rpb25SYW5nZShlbGVtZW50LCBpbml0aWFsU2VsZWN0aW9uU3RhcnQsIGluaXRpYWxTZWxlY3Rpb25FbmQgIT09IG51bGwgJiYgaW5pdGlhbFNlbGVjdGlvbkVuZCAhPT0gdW5kZWZpbmVkID8gaW5pdGlhbFNlbGVjdGlvbkVuZCA6IGluaXRpYWxTZWxlY3Rpb25TdGFydCk7XG4gICAgfVxuICAgIGF3YWl0IHRoaXMua2V5Ym9hcmQodGV4dCk7XG4gICAgaWYgKCFza2lwQXV0b0Nsb3NlKSB7XG4gICAgICAgIGF3YWl0IGluZGV4LnJlbGVhc2VBbGxLZXlzKHRoaXMpO1xuICAgIH1cbn1cblxuZXhwb3J0cy50eXBlID0gdHlwZTtcbiJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWTs7QUFFWixJQUFJQSxLQUFLLEdBQUdDLE9BQU8sQ0FBQyxzQkFBc0IsQ0FBQztBQUMzQ0EsT0FBTyxDQUFDLG9DQUFvQyxDQUFDO0FBQzdDLElBQUlDLGlCQUFpQixHQUFHRCxPQUFPLENBQUMseUNBQXlDLENBQUM7QUFFMUUsZUFBZUUsSUFBSUEsQ0FBQ0MsT0FBTyxFQUFFQyxJQUFJLEVBQUU7RUFBRUMsU0FBUyxHQUFHLElBQUksQ0FBQ0MsTUFBTSxDQUFDRCxTQUFTO0VBQUVFLGFBQWEsR0FBRyxJQUFJLENBQUNELE1BQU0sQ0FBQ0MsYUFBYTtFQUFFQyxxQkFBcUI7RUFBRUM7QUFBb0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFO0VBQ2xLO0VBQ0E7RUFDQSxJQUFJTixPQUFPLENBQUNPLFFBQVEsRUFBRTtFQUN0QixJQUFJLENBQUNMLFNBQVMsRUFBRTtJQUNaLE1BQU0sSUFBSSxDQUFDTSxLQUFLLENBQUNSLE9BQU8sQ0FBQztFQUM3QjtFQUNBLElBQUlLLHFCQUFxQixLQUFLSSxTQUFTLEVBQUU7SUFDckNYLGlCQUFpQixDQUFDQSxpQkFBaUIsQ0FBQ0UsT0FBTyxFQUFFSyxxQkFBcUIsRUFBRUMsbUJBQW1CLEtBQUssSUFBSSxJQUFJQSxtQkFBbUIsS0FBS0csU0FBUyxHQUFHSCxtQkFBbUIsR0FBR0QscUJBQXFCLENBQUM7RUFDeEw7RUFDQSxNQUFNLElBQUksQ0FBQ0ssUUFBUSxDQUFDVCxJQUFJLENBQUM7RUFDekIsSUFBSSxDQUFDRyxhQUFhLEVBQUU7SUFDaEIsTUFBTVIsS0FBSyxDQUFDZSxjQUFjLENBQUMsSUFBSSxDQUFDO0VBQ3BDO0FBQ0o7QUFFQUMsT0FBTyxDQUFDYixJQUFJLEdBQUdBLElBQUkiLCJpZ25vcmVMaXN0IjpbXX0=