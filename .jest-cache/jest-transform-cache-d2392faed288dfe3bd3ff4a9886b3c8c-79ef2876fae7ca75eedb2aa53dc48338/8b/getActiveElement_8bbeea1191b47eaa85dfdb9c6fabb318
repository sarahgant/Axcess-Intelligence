70cd64fc2460958ea9da61757c9e5fa7
'use strict';

var isDisabled = require('../misc/isDisabled.js');
function getActiveElement(document) {
  const activeElement = document.activeElement;
  if (activeElement === null || activeElement === undefined ? undefined : activeElement.shadowRoot) {
    return getActiveElement(activeElement.shadowRoot);
  } else {
    // Browser does not yield disabled elements as document.activeElement - jsdom does
    if (isDisabled.isDisabled(activeElement)) {
      return document.ownerDocument ? /* istanbul ignore next */document.ownerDocument.body : document.body;
    }
    return activeElement;
  }
}
function getActiveElementOrBody(document) {
  var _getActiveElement;
  return (_getActiveElement = getActiveElement(document)) !== null && _getActiveElement !== undefined ? _getActiveElement : /* istanbul ignore next */document.body;
}
exports.getActiveElement = getActiveElement;
exports.getActiveElementOrBody = getActiveElementOrBody;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpc0Rpc2FibGVkIiwicmVxdWlyZSIsImdldEFjdGl2ZUVsZW1lbnQiLCJkb2N1bWVudCIsImFjdGl2ZUVsZW1lbnQiLCJ1bmRlZmluZWQiLCJzaGFkb3dSb290Iiwib3duZXJEb2N1bWVudCIsImJvZHkiLCJnZXRBY3RpdmVFbGVtZW50T3JCb2R5IiwiX2dldEFjdGl2ZUVsZW1lbnQiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiZ2V0QWN0aXZlRWxlbWVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBpc0Rpc2FibGVkID0gcmVxdWlyZSgnLi4vbWlzYy9pc0Rpc2FibGVkLmpzJyk7XG5cbmZ1bmN0aW9uIGdldEFjdGl2ZUVsZW1lbnQoZG9jdW1lbnQpIHtcbiAgICBjb25zdCBhY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICBpZiAoYWN0aXZlRWxlbWVudCA9PT0gbnVsbCB8fCBhY3RpdmVFbGVtZW50ID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiBhY3RpdmVFbGVtZW50LnNoYWRvd1Jvb3QpIHtcbiAgICAgICAgcmV0dXJuIGdldEFjdGl2ZUVsZW1lbnQoYWN0aXZlRWxlbWVudC5zaGFkb3dSb290KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBCcm93c2VyIGRvZXMgbm90IHlpZWxkIGRpc2FibGVkIGVsZW1lbnRzIGFzIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgLSBqc2RvbSBkb2VzXG4gICAgICAgIGlmIChpc0Rpc2FibGVkLmlzRGlzYWJsZWQoYWN0aXZlRWxlbWVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5vd25lckRvY3VtZW50ID8gLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gZG9jdW1lbnQub3duZXJEb2N1bWVudC5ib2R5IDogZG9jdW1lbnQuYm9keTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWN0aXZlRWxlbWVudDtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRBY3RpdmVFbGVtZW50T3JCb2R5KGRvY3VtZW50KSB7XG4gICAgdmFyIF9nZXRBY3RpdmVFbGVtZW50O1xuICAgIHJldHVybiAoX2dldEFjdGl2ZUVsZW1lbnQgPSBnZXRBY3RpdmVFbGVtZW50KGRvY3VtZW50KSkgIT09IG51bGwgJiYgX2dldEFjdGl2ZUVsZW1lbnQgIT09IHVuZGVmaW5lZCA/IF9nZXRBY3RpdmVFbGVtZW50IDogLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gZG9jdW1lbnQuYm9keTtcbn1cblxuZXhwb3J0cy5nZXRBY3RpdmVFbGVtZW50ID0gZ2V0QWN0aXZlRWxlbWVudDtcbmV4cG9ydHMuZ2V0QWN0aXZlRWxlbWVudE9yQm9keSA9IGdldEFjdGl2ZUVsZW1lbnRPckJvZHk7XG4iXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBRVosSUFBSUEsVUFBVSxHQUFHQyxPQUFPLENBQUMsdUJBQXVCLENBQUM7QUFFakQsU0FBU0MsZ0JBQWdCQSxDQUFDQyxRQUFRLEVBQUU7RUFDaEMsTUFBTUMsYUFBYSxHQUFHRCxRQUFRLENBQUNDLGFBQWE7RUFDNUMsSUFBSUEsYUFBYSxLQUFLLElBQUksSUFBSUEsYUFBYSxLQUFLQyxTQUFTLEdBQUdBLFNBQVMsR0FBR0QsYUFBYSxDQUFDRSxVQUFVLEVBQUU7SUFDOUYsT0FBT0osZ0JBQWdCLENBQUNFLGFBQWEsQ0FBQ0UsVUFBVSxDQUFDO0VBQ3JELENBQUMsTUFBTTtJQUNIO0lBQ0EsSUFBSU4sVUFBVSxDQUFDQSxVQUFVLENBQUNJLGFBQWEsQ0FBQyxFQUFFO01BQ3RDLE9BQU9ELFFBQVEsQ0FBQ0ksYUFBYSxHQUFHLDBCQUEyQkosUUFBUSxDQUFDSSxhQUFhLENBQUNDLElBQUksR0FBR0wsUUFBUSxDQUFDSyxJQUFJO0lBQzFHO0lBQ0EsT0FBT0osYUFBYTtFQUN4QjtBQUNKO0FBQ0EsU0FBU0ssc0JBQXNCQSxDQUFDTixRQUFRLEVBQUU7RUFDdEMsSUFBSU8saUJBQWlCO0VBQ3JCLE9BQU8sQ0FBQ0EsaUJBQWlCLEdBQUdSLGdCQUFnQixDQUFDQyxRQUFRLENBQUMsTUFBTSxJQUFJLElBQUlPLGlCQUFpQixLQUFLTCxTQUFTLEdBQUdLLGlCQUFpQixHQUFHLDBCQUEyQlAsUUFBUSxDQUFDSyxJQUFJO0FBQ3RLO0FBRUFHLE9BQU8sQ0FBQ1QsZ0JBQWdCLEdBQUdBLGdCQUFnQjtBQUMzQ1MsT0FBTyxDQUFDRixzQkFBc0IsR0FBR0Esc0JBQXNCIiwiaWdub3JlTGlzdCI6W119