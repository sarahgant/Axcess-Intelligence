{"version":3,"names":["UI","require","isContentEditable","selection","getTargetTypeAndSelection","node","element","getElement","hasOwnSelection","type","getUISelection","selection$1","undefined","ownerDocument","getSelection","isCE","getContentEditable","anchorNode","nodeType","parentElement","exports"],"sources":["getTargetTypeAndSelection.js"],"sourcesContent":["'use strict';\n\nvar UI = require('../../document/UI.js');\nrequire('../../utils/dataTransfer/Clipboard.js');\nvar isContentEditable = require('../../utils/edit/isContentEditable.js');\nvar selection = require('../../utils/focus/selection.js');\n\n/**\n * Determine which selection logic and selection ranges to consider.\n */ function getTargetTypeAndSelection(node) {\n    const element = getElement(node);\n    if (element && selection.hasOwnSelection(element)) {\n        return {\n            type: 'input',\n            selection: UI.getUISelection(element)\n        };\n    }\n    const selection$1 = element === null || element === undefined ? undefined : element.ownerDocument.getSelection();\n    // It is possible to extend a single-range selection into a contenteditable.\n    // This results in the range acting like a range outside of contenteditable.\n    const isCE = isContentEditable.getContentEditable(node) && (selection$1 === null || selection$1 === undefined ? undefined : selection$1.anchorNode) && isContentEditable.getContentEditable(selection$1.anchorNode);\n    return {\n        type: isCE ? 'contenteditable' : 'default',\n        selection: selection$1\n    };\n}\nfunction getElement(node) {\n    return node.nodeType === 1 ? node : node.parentElement;\n}\n\nexports.getTargetTypeAndSelection = getTargetTypeAndSelection;\n"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,EAAE,GAAGC,OAAO,CAAC,sBAAsB,CAAC;AACxCA,OAAO,CAAC,uCAAuC,CAAC;AAChD,IAAIC,iBAAiB,GAAGD,OAAO,CAAC,uCAAuC,CAAC;AACxE,IAAIE,SAAS,GAAGF,OAAO,CAAC,gCAAgC,CAAC;;AAEzD;AACA;AACA;AAAI,SAASG,yBAAyBA,CAACC,IAAI,EAAE;EACzC,MAAMC,OAAO,GAAGC,UAAU,CAACF,IAAI,CAAC;EAChC,IAAIC,OAAO,IAAIH,SAAS,CAACK,eAAe,CAACF,OAAO,CAAC,EAAE;IAC/C,OAAO;MACHG,IAAI,EAAE,OAAO;MACbN,SAAS,EAAEH,EAAE,CAACU,cAAc,CAACJ,OAAO;IACxC,CAAC;EACL;EACA,MAAMK,WAAW,GAAGL,OAAO,KAAK,IAAI,IAAIA,OAAO,KAAKM,SAAS,GAAGA,SAAS,GAAGN,OAAO,CAACO,aAAa,CAACC,YAAY,CAAC,CAAC;EAChH;EACA;EACA,MAAMC,IAAI,GAAGb,iBAAiB,CAACc,kBAAkB,CAACX,IAAI,CAAC,KAAKM,WAAW,KAAK,IAAI,IAAIA,WAAW,KAAKC,SAAS,GAAGA,SAAS,GAAGD,WAAW,CAACM,UAAU,CAAC,IAAIf,iBAAiB,CAACc,kBAAkB,CAACL,WAAW,CAACM,UAAU,CAAC;EACnN,OAAO;IACHR,IAAI,EAAEM,IAAI,GAAG,iBAAiB,GAAG,SAAS;IAC1CZ,SAAS,EAAEQ;EACf,CAAC;AACL;AACA,SAASJ,UAAUA,CAACF,IAAI,EAAE;EACtB,OAAOA,IAAI,CAACa,QAAQ,KAAK,CAAC,GAAGb,IAAI,GAAGA,IAAI,CAACc,aAAa;AAC1D;AAEAC,OAAO,CAAChB,yBAAyB,GAAGA,yBAAyB","ignoreList":[]}