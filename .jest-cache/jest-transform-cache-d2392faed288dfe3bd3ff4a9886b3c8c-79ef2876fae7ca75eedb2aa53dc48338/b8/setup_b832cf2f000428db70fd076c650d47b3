17ac9e574eff5d65aa702d3a05d69392
'use strict';

var patchFocus = require('../document/patchFocus.js');
var prepareDocument = require('../document/prepareDocument.js');
var dispatchEvent = require('../event/dispatchEvent.js');
var Clipboard = require('../utils/dataTransfer/Clipboard.js');
var getWindow = require('../utils/misc/getWindow.js');
var getDocumentFromNode = require('../utils/misc/getDocumentFromNode.js');
var level = require('../utils/misc/level.js');
var wait = require('../utils/misc/wait.js');
var options = require('../options.js');
require('@testing-library/dom');
var keyMap = require('../keyboard/keyMap.js');
var keyMap$1 = require('../pointer/keyMap.js');
var index = require('../system/index.js');
var api = require('./api.js');
var wrapAsync = require('./wrapAsync.js');

/**
 * Default options applied when API is called per `userEvent.anyApi()`
 */
const defaultOptionsDirect = {
  applyAccept: true,
  autoModify: true,
  delay: 0,
  document: globalThis.document,
  keyboardMap: keyMap.defaultKeyMap,
  pointerMap: keyMap$1.defaultKeyMap,
  pointerEventsCheck: options.PointerEventsCheckLevel.EachApiCall,
  skipAutoClose: false,
  skipClick: false,
  skipHover: false,
  writeToClipboard: false,
  advanceTimers: () => Promise.resolve()
};
/**
 * Default options applied when API is called per `userEvent().anyApi()`
 */
const defaultOptionsSetup = {
  ...defaultOptionsDirect,
  writeToClipboard: true
};
function createConfig(options = {}, defaults = defaultOptionsSetup, node) {
  const document = getDocument(options, node, defaults);
  return {
    ...defaults,
    ...options,
    document
  };
}
/**
 * Start a "session" with userEvent.
 * All APIs returned by this function share an input device state and a default configuration.
 */
function setupMain(options = {}) {
  const config = createConfig(options);
  prepareDocument.prepareDocument(config.document);
  patchFocus.patchFocus(getWindow.getWindow(config.document).HTMLElement);
  var _config_document_defaultView;
  const view = (_config_document_defaultView = config.document.defaultView) !== null && _config_document_defaultView !== undefined ? _config_document_defaultView : /* istanbul ignore next */globalThis.window;
  Clipboard.attachClipboardStubToView(view);
  return createInstance(config).api;
}
/**
 * Setup in direct call per `userEvent.anyApi()`
 */
function setupDirect({
  keyboardState,
  pointerState,
  ...options
} = {}, node) {
  const config = createConfig(options, defaultOptionsDirect, node);
  prepareDocument.prepareDocument(config.document);
  patchFocus.patchFocus(getWindow.getWindow(config.document).HTMLElement);
  var _ref;
  const system = (_ref = pointerState !== null && pointerState !== undefined ? pointerState : keyboardState) !== null && _ref !== undefined ? _ref : new index.System();
  return {
    api: createInstance(config, system).api,
    system
  };
}
/**
 * Create a set of callbacks with different default settings but the same state.
 */
function setupSub(options) {
  return createInstance({
    ...this.config,
    ...options
  }, this.system).api;
}
function wrapAndBindImpl(instance, impl) {
  function method(...args) {
    level.setLevelRef(instance, level.ApiLevel.Call);
    return wrapAsync.wrapAsync(() => impl.apply(instance, args).then(async ret => {
      await wait.wait(instance.config);
      return ret;
    }));
  }
  Object.defineProperty(method, 'name', {
    get: () => impl.name
  });
  return method;
}
function createInstance(config, system = new index.System()) {
  const instance = {};
  Object.assign(instance, {
    config,
    dispatchEvent: dispatchEvent.dispatchEvent.bind(instance),
    dispatchUIEvent: dispatchEvent.dispatchUIEvent.bind(instance),
    system,
    levelRefs: {},
    ...api.userEventApi
  });
  return {
    instance,
    api: {
      ...Object.fromEntries(Object.entries(api.userEventApi).map(([name, api]) => [name, wrapAndBindImpl(instance, api)])),
      setup: setupSub.bind(instance)
    }
  };
}
function getDocument(options, node, defaults) {
  var _options_document, _ref;
  return (_ref = (_options_document = options.document) !== null && _options_document !== undefined ? _options_document : node && getDocumentFromNode.getDocumentFromNode(node)) !== null && _ref !== undefined ? _ref : defaults.document;
}
exports.createConfig = createConfig;
exports.createInstance = createInstance;
exports.setupDirect = setupDirect;
exports.setupMain = setupMain;
exports.setupSub = setupSub;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwYXRjaEZvY3VzIiwicmVxdWlyZSIsInByZXBhcmVEb2N1bWVudCIsImRpc3BhdGNoRXZlbnQiLCJDbGlwYm9hcmQiLCJnZXRXaW5kb3ciLCJnZXREb2N1bWVudEZyb21Ob2RlIiwibGV2ZWwiLCJ3YWl0Iiwib3B0aW9ucyIsImtleU1hcCIsImtleU1hcCQxIiwiaW5kZXgiLCJhcGkiLCJ3cmFwQXN5bmMiLCJkZWZhdWx0T3B0aW9uc0RpcmVjdCIsImFwcGx5QWNjZXB0IiwiYXV0b01vZGlmeSIsImRlbGF5IiwiZG9jdW1lbnQiLCJnbG9iYWxUaGlzIiwia2V5Ym9hcmRNYXAiLCJkZWZhdWx0S2V5TWFwIiwicG9pbnRlck1hcCIsInBvaW50ZXJFdmVudHNDaGVjayIsIlBvaW50ZXJFdmVudHNDaGVja0xldmVsIiwiRWFjaEFwaUNhbGwiLCJza2lwQXV0b0Nsb3NlIiwic2tpcENsaWNrIiwic2tpcEhvdmVyIiwid3JpdGVUb0NsaXBib2FyZCIsImFkdmFuY2VUaW1lcnMiLCJQcm9taXNlIiwicmVzb2x2ZSIsImRlZmF1bHRPcHRpb25zU2V0dXAiLCJjcmVhdGVDb25maWciLCJkZWZhdWx0cyIsIm5vZGUiLCJnZXREb2N1bWVudCIsInNldHVwTWFpbiIsImNvbmZpZyIsIkhUTUxFbGVtZW50IiwiX2NvbmZpZ19kb2N1bWVudF9kZWZhdWx0VmlldyIsInZpZXciLCJkZWZhdWx0VmlldyIsInVuZGVmaW5lZCIsIndpbmRvdyIsImF0dGFjaENsaXBib2FyZFN0dWJUb1ZpZXciLCJjcmVhdGVJbnN0YW5jZSIsInNldHVwRGlyZWN0Iiwia2V5Ym9hcmRTdGF0ZSIsInBvaW50ZXJTdGF0ZSIsIl9yZWYiLCJzeXN0ZW0iLCJTeXN0ZW0iLCJzZXR1cFN1YiIsIndyYXBBbmRCaW5kSW1wbCIsImluc3RhbmNlIiwiaW1wbCIsIm1ldGhvZCIsImFyZ3MiLCJzZXRMZXZlbFJlZiIsIkFwaUxldmVsIiwiQ2FsbCIsImFwcGx5IiwidGhlbiIsInJldCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0IiwibmFtZSIsImFzc2lnbiIsImJpbmQiLCJkaXNwYXRjaFVJRXZlbnQiLCJsZXZlbFJlZnMiLCJ1c2VyRXZlbnRBcGkiLCJmcm9tRW50cmllcyIsImVudHJpZXMiLCJtYXAiLCJzZXR1cCIsIl9vcHRpb25zX2RvY3VtZW50IiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbInNldHVwLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIHBhdGNoRm9jdXMgPSByZXF1aXJlKCcuLi9kb2N1bWVudC9wYXRjaEZvY3VzLmpzJyk7XG52YXIgcHJlcGFyZURvY3VtZW50ID0gcmVxdWlyZSgnLi4vZG9jdW1lbnQvcHJlcGFyZURvY3VtZW50LmpzJyk7XG52YXIgZGlzcGF0Y2hFdmVudCA9IHJlcXVpcmUoJy4uL2V2ZW50L2Rpc3BhdGNoRXZlbnQuanMnKTtcbnZhciBDbGlwYm9hcmQgPSByZXF1aXJlKCcuLi91dGlscy9kYXRhVHJhbnNmZXIvQ2xpcGJvYXJkLmpzJyk7XG52YXIgZ2V0V2luZG93ID0gcmVxdWlyZSgnLi4vdXRpbHMvbWlzYy9nZXRXaW5kb3cuanMnKTtcbnZhciBnZXREb2N1bWVudEZyb21Ob2RlID0gcmVxdWlyZSgnLi4vdXRpbHMvbWlzYy9nZXREb2N1bWVudEZyb21Ob2RlLmpzJyk7XG52YXIgbGV2ZWwgPSByZXF1aXJlKCcuLi91dGlscy9taXNjL2xldmVsLmpzJyk7XG52YXIgd2FpdCA9IHJlcXVpcmUoJy4uL3V0aWxzL21pc2Mvd2FpdC5qcycpO1xudmFyIG9wdGlvbnMgPSByZXF1aXJlKCcuLi9vcHRpb25zLmpzJyk7XG5yZXF1aXJlKCdAdGVzdGluZy1saWJyYXJ5L2RvbScpO1xudmFyIGtleU1hcCA9IHJlcXVpcmUoJy4uL2tleWJvYXJkL2tleU1hcC5qcycpO1xudmFyIGtleU1hcCQxID0gcmVxdWlyZSgnLi4vcG9pbnRlci9rZXlNYXAuanMnKTtcbnZhciBpbmRleCA9IHJlcXVpcmUoJy4uL3N5c3RlbS9pbmRleC5qcycpO1xudmFyIGFwaSA9IHJlcXVpcmUoJy4vYXBpLmpzJyk7XG52YXIgd3JhcEFzeW5jID0gcmVxdWlyZSgnLi93cmFwQXN5bmMuanMnKTtcblxuLyoqXG4gKiBEZWZhdWx0IG9wdGlvbnMgYXBwbGllZCB3aGVuIEFQSSBpcyBjYWxsZWQgcGVyIGB1c2VyRXZlbnQuYW55QXBpKClgXG4gKi8gY29uc3QgZGVmYXVsdE9wdGlvbnNEaXJlY3QgPSB7XG4gICAgYXBwbHlBY2NlcHQ6IHRydWUsXG4gICAgYXV0b01vZGlmeTogdHJ1ZSxcbiAgICBkZWxheTogMCxcbiAgICBkb2N1bWVudDogZ2xvYmFsVGhpcy5kb2N1bWVudCxcbiAgICBrZXlib2FyZE1hcDoga2V5TWFwLmRlZmF1bHRLZXlNYXAsXG4gICAgcG9pbnRlck1hcDoga2V5TWFwJDEuZGVmYXVsdEtleU1hcCxcbiAgICBwb2ludGVyRXZlbnRzQ2hlY2s6IG9wdGlvbnMuUG9pbnRlckV2ZW50c0NoZWNrTGV2ZWwuRWFjaEFwaUNhbGwsXG4gICAgc2tpcEF1dG9DbG9zZTogZmFsc2UsXG4gICAgc2tpcENsaWNrOiBmYWxzZSxcbiAgICBza2lwSG92ZXI6IGZhbHNlLFxuICAgIHdyaXRlVG9DbGlwYm9hcmQ6IGZhbHNlLFxuICAgIGFkdmFuY2VUaW1lcnM6ICgpPT5Qcm9taXNlLnJlc29sdmUoKVxufTtcbi8qKlxuICogRGVmYXVsdCBvcHRpb25zIGFwcGxpZWQgd2hlbiBBUEkgaXMgY2FsbGVkIHBlciBgdXNlckV2ZW50KCkuYW55QXBpKClgXG4gKi8gY29uc3QgZGVmYXVsdE9wdGlvbnNTZXR1cCA9IHtcbiAgICAuLi5kZWZhdWx0T3B0aW9uc0RpcmVjdCxcbiAgICB3cml0ZVRvQ2xpcGJvYXJkOiB0cnVlXG59O1xuZnVuY3Rpb24gY3JlYXRlQ29uZmlnKG9wdGlvbnMgPSB7fSwgZGVmYXVsdHMgPSBkZWZhdWx0T3B0aW9uc1NldHVwLCBub2RlKSB7XG4gICAgY29uc3QgZG9jdW1lbnQgPSBnZXREb2N1bWVudChvcHRpb25zLCBub2RlLCBkZWZhdWx0cyk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uZGVmYXVsdHMsXG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGRvY3VtZW50XG4gICAgfTtcbn1cbi8qKlxuICogU3RhcnQgYSBcInNlc3Npb25cIiB3aXRoIHVzZXJFdmVudC5cbiAqIEFsbCBBUElzIHJldHVybmVkIGJ5IHRoaXMgZnVuY3Rpb24gc2hhcmUgYW4gaW5wdXQgZGV2aWNlIHN0YXRlIGFuZCBhIGRlZmF1bHQgY29uZmlndXJhdGlvbi5cbiAqLyBmdW5jdGlvbiBzZXR1cE1haW4ob3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgY29uZmlnID0gY3JlYXRlQ29uZmlnKG9wdGlvbnMpO1xuICAgIHByZXBhcmVEb2N1bWVudC5wcmVwYXJlRG9jdW1lbnQoY29uZmlnLmRvY3VtZW50KTtcbiAgICBwYXRjaEZvY3VzLnBhdGNoRm9jdXMoZ2V0V2luZG93LmdldFdpbmRvdyhjb25maWcuZG9jdW1lbnQpLkhUTUxFbGVtZW50KTtcbiAgICB2YXIgX2NvbmZpZ19kb2N1bWVudF9kZWZhdWx0VmlldztcbiAgICBjb25zdCB2aWV3ID0gKF9jb25maWdfZG9jdW1lbnRfZGVmYXVsdFZpZXcgPSBjb25maWcuZG9jdW1lbnQuZGVmYXVsdFZpZXcpICE9PSBudWxsICYmIF9jb25maWdfZG9jdW1lbnRfZGVmYXVsdFZpZXcgIT09IHVuZGVmaW5lZCA/IF9jb25maWdfZG9jdW1lbnRfZGVmYXVsdFZpZXcgOiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyBnbG9iYWxUaGlzLndpbmRvdztcbiAgICBDbGlwYm9hcmQuYXR0YWNoQ2xpcGJvYXJkU3R1YlRvVmlldyh2aWV3KTtcbiAgICByZXR1cm4gY3JlYXRlSW5zdGFuY2UoY29uZmlnKS5hcGk7XG59XG4vKipcbiAqIFNldHVwIGluIGRpcmVjdCBjYWxsIHBlciBgdXNlckV2ZW50LmFueUFwaSgpYFxuICovIGZ1bmN0aW9uIHNldHVwRGlyZWN0KHsga2V5Ym9hcmRTdGF0ZSwgcG9pbnRlclN0YXRlLCAuLi5vcHRpb25zIH0gPSB7fSwgbm9kZSkge1xuICAgIGNvbnN0IGNvbmZpZyA9IGNyZWF0ZUNvbmZpZyhvcHRpb25zLCBkZWZhdWx0T3B0aW9uc0RpcmVjdCwgbm9kZSk7XG4gICAgcHJlcGFyZURvY3VtZW50LnByZXBhcmVEb2N1bWVudChjb25maWcuZG9jdW1lbnQpO1xuICAgIHBhdGNoRm9jdXMucGF0Y2hGb2N1cyhnZXRXaW5kb3cuZ2V0V2luZG93KGNvbmZpZy5kb2N1bWVudCkuSFRNTEVsZW1lbnQpO1xuICAgIHZhciBfcmVmO1xuICAgIGNvbnN0IHN5c3RlbSA9IChfcmVmID0gcG9pbnRlclN0YXRlICE9PSBudWxsICYmIHBvaW50ZXJTdGF0ZSAhPT0gdW5kZWZpbmVkID8gcG9pbnRlclN0YXRlIDoga2V5Ym9hcmRTdGF0ZSkgIT09IG51bGwgJiYgX3JlZiAhPT0gdW5kZWZpbmVkID8gX3JlZiA6IG5ldyBpbmRleC5TeXN0ZW0oKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBhcGk6IGNyZWF0ZUluc3RhbmNlKGNvbmZpZywgc3lzdGVtKS5hcGksXG4gICAgICAgIHN5c3RlbVxuICAgIH07XG59XG4vKipcbiAqIENyZWF0ZSBhIHNldCBvZiBjYWxsYmFja3Mgd2l0aCBkaWZmZXJlbnQgZGVmYXVsdCBzZXR0aW5ncyBidXQgdGhlIHNhbWUgc3RhdGUuXG4gKi8gZnVuY3Rpb24gc2V0dXBTdWIob3B0aW9ucykge1xuICAgIHJldHVybiBjcmVhdGVJbnN0YW5jZSh7XG4gICAgICAgIC4uLnRoaXMuY29uZmlnLFxuICAgICAgICAuLi5vcHRpb25zXG4gICAgfSwgdGhpcy5zeXN0ZW0pLmFwaTtcbn1cbmZ1bmN0aW9uIHdyYXBBbmRCaW5kSW1wbChpbnN0YW5jZSwgaW1wbCkge1xuICAgIGZ1bmN0aW9uIG1ldGhvZCguLi5hcmdzKSB7XG4gICAgICAgIGxldmVsLnNldExldmVsUmVmKGluc3RhbmNlLCBsZXZlbC5BcGlMZXZlbC5DYWxsKTtcbiAgICAgICAgcmV0dXJuIHdyYXBBc3luYy53cmFwQXN5bmMoKCk9PmltcGwuYXBwbHkoaW5zdGFuY2UsIGFyZ3MpLnRoZW4oYXN5bmMgKHJldCk9PntcbiAgICAgICAgICAgICAgICBhd2FpdCB3YWl0LndhaXQoaW5zdGFuY2UuY29uZmlnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICAgICAgfSkpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobWV0aG9kLCAnbmFtZScsIHtcbiAgICAgICAgZ2V0OiAoKT0+aW1wbC5uYW1lXG4gICAgfSk7XG4gICAgcmV0dXJuIG1ldGhvZDtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlKGNvbmZpZywgc3lzdGVtID0gbmV3IGluZGV4LlN5c3RlbSgpKSB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSB7fTtcbiAgICBPYmplY3QuYXNzaWduKGluc3RhbmNlLCB7XG4gICAgICAgIGNvbmZpZyxcbiAgICAgICAgZGlzcGF0Y2hFdmVudDogZGlzcGF0Y2hFdmVudC5kaXNwYXRjaEV2ZW50LmJpbmQoaW5zdGFuY2UpLFxuICAgICAgICBkaXNwYXRjaFVJRXZlbnQ6IGRpc3BhdGNoRXZlbnQuZGlzcGF0Y2hVSUV2ZW50LmJpbmQoaW5zdGFuY2UpLFxuICAgICAgICBzeXN0ZW0sXG4gICAgICAgIGxldmVsUmVmczoge30sXG4gICAgICAgIC4uLmFwaS51c2VyRXZlbnRBcGlcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgYXBpOiB7XG4gICAgICAgICAgICAuLi5PYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMoYXBpLnVzZXJFdmVudEFwaSkubWFwKChbbmFtZSwgYXBpXSk9PltcbiAgICAgICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgd3JhcEFuZEJpbmRJbXBsKGluc3RhbmNlLCBhcGkpXG4gICAgICAgICAgICAgICAgXSkpLFxuICAgICAgICAgICAgc2V0dXA6IHNldHVwU3ViLmJpbmQoaW5zdGFuY2UpXG4gICAgICAgIH1cbiAgICB9O1xufVxuZnVuY3Rpb24gZ2V0RG9jdW1lbnQob3B0aW9ucywgbm9kZSwgZGVmYXVsdHMpIHtcbiAgICB2YXIgX29wdGlvbnNfZG9jdW1lbnQsIF9yZWY7XG4gICAgcmV0dXJuIChfcmVmID0gKF9vcHRpb25zX2RvY3VtZW50ID0gb3B0aW9ucy5kb2N1bWVudCkgIT09IG51bGwgJiYgX29wdGlvbnNfZG9jdW1lbnQgIT09IHVuZGVmaW5lZCA/IF9vcHRpb25zX2RvY3VtZW50IDogbm9kZSAmJiBnZXREb2N1bWVudEZyb21Ob2RlLmdldERvY3VtZW50RnJvbU5vZGUobm9kZSkpICE9PSBudWxsICYmIF9yZWYgIT09IHVuZGVmaW5lZCA/IF9yZWYgOiBkZWZhdWx0cy5kb2N1bWVudDtcbn1cblxuZXhwb3J0cy5jcmVhdGVDb25maWcgPSBjcmVhdGVDb25maWc7XG5leHBvcnRzLmNyZWF0ZUluc3RhbmNlID0gY3JlYXRlSW5zdGFuY2U7XG5leHBvcnRzLnNldHVwRGlyZWN0ID0gc2V0dXBEaXJlY3Q7XG5leHBvcnRzLnNldHVwTWFpbiA9IHNldHVwTWFpbjtcbmV4cG9ydHMuc2V0dXBTdWIgPSBzZXR1cFN1YjtcbiJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWTs7QUFFWixJQUFJQSxVQUFVLEdBQUdDLE9BQU8sQ0FBQywyQkFBMkIsQ0FBQztBQUNyRCxJQUFJQyxlQUFlLEdBQUdELE9BQU8sQ0FBQyxnQ0FBZ0MsQ0FBQztBQUMvRCxJQUFJRSxhQUFhLEdBQUdGLE9BQU8sQ0FBQywyQkFBMkIsQ0FBQztBQUN4RCxJQUFJRyxTQUFTLEdBQUdILE9BQU8sQ0FBQyxvQ0FBb0MsQ0FBQztBQUM3RCxJQUFJSSxTQUFTLEdBQUdKLE9BQU8sQ0FBQyw0QkFBNEIsQ0FBQztBQUNyRCxJQUFJSyxtQkFBbUIsR0FBR0wsT0FBTyxDQUFDLHNDQUFzQyxDQUFDO0FBQ3pFLElBQUlNLEtBQUssR0FBR04sT0FBTyxDQUFDLHdCQUF3QixDQUFDO0FBQzdDLElBQUlPLElBQUksR0FBR1AsT0FB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