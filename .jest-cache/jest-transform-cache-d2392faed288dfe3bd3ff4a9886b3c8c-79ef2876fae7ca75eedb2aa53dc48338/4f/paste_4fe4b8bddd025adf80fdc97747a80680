65ba0f2bf0e07da414c34cc6ec58b1cf
'use strict';

var DataTransfer = require('../utils/dataTransfer/DataTransfer.js');
var Clipboard = require('../utils/dataTransfer/Clipboard.js');
var getWindow = require('../utils/misc/getWindow.js');
async function paste(clipboardData) {
  const doc = this.config.document;
  var _doc_activeElement;
  const target = (_doc_activeElement = doc.activeElement) !== null && _doc_activeElement !== undefined ? _doc_activeElement : /* istanbul ignore next */doc.body;
  var _ref;
  const dataTransfer = (_ref = typeof clipboardData === 'string' ? getClipboardDataFromString(doc, clipboardData) : clipboardData) !== null && _ref !== undefined ? _ref : await Clipboard.readDataTransferFromClipboard(doc).catch(() => {
    throw new Error('`userEvent.paste()` without `clipboardData` requires the `ClipboardAPI` to be available.');
  });
  this.dispatchUIEvent(target, 'paste', {
    clipboardData: dataTransfer
  });
}
function getClipboardDataFromString(doc, text) {
  const dt = DataTransfer.createDataTransfer(getWindow.getWindow(doc));
  dt.setData('text', text);
  return dt;
}
exports.paste = paste;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJEYXRhVHJhbnNmZXIiLCJyZXF1aXJlIiwiQ2xpcGJvYXJkIiwiZ2V0V2luZG93IiwicGFzdGUiLCJjbGlwYm9hcmREYXRhIiwiZG9jIiwiY29uZmlnIiwiZG9jdW1lbnQiLCJfZG9jX2FjdGl2ZUVsZW1lbnQiLCJ0YXJnZXQiLCJhY3RpdmVFbGVtZW50IiwidW5kZWZpbmVkIiwiYm9keSIsIl9yZWYiLCJkYXRhVHJhbnNmZXIiLCJnZXRDbGlwYm9hcmREYXRhRnJvbVN0cmluZyIsInJlYWREYXRhVHJhbnNmZXJGcm9tQ2xpcGJvYXJkIiwiY2F0Y2giLCJFcnJvciIsImRpc3BhdGNoVUlFdmVudCIsInRleHQiLCJkdCIsImNyZWF0ZURhdGFUcmFuc2ZlciIsInNldERhdGEiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsicGFzdGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRGF0YVRyYW5zZmVyID0gcmVxdWlyZSgnLi4vdXRpbHMvZGF0YVRyYW5zZmVyL0RhdGFUcmFuc2Zlci5qcycpO1xudmFyIENsaXBib2FyZCA9IHJlcXVpcmUoJy4uL3V0aWxzL2RhdGFUcmFuc2Zlci9DbGlwYm9hcmQuanMnKTtcbnZhciBnZXRXaW5kb3cgPSByZXF1aXJlKCcuLi91dGlscy9taXNjL2dldFdpbmRvdy5qcycpO1xuXG5hc3luYyBmdW5jdGlvbiBwYXN0ZShjbGlwYm9hcmREYXRhKSB7XG4gICAgY29uc3QgZG9jID0gdGhpcy5jb25maWcuZG9jdW1lbnQ7XG4gICAgdmFyIF9kb2NfYWN0aXZlRWxlbWVudDtcbiAgICBjb25zdCB0YXJnZXQgPSAoX2RvY19hY3RpdmVFbGVtZW50ID0gZG9jLmFjdGl2ZUVsZW1lbnQpICE9PSBudWxsICYmIF9kb2NfYWN0aXZlRWxlbWVudCAhPT0gdW5kZWZpbmVkID8gX2RvY19hY3RpdmVFbGVtZW50IDogLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gZG9jLmJvZHk7XG4gICAgdmFyIF9yZWY7XG4gICAgY29uc3QgZGF0YVRyYW5zZmVyID0gKF9yZWYgPSB0eXBlb2YgY2xpcGJvYXJkRGF0YSA9PT0gJ3N0cmluZycgPyBnZXRDbGlwYm9hcmREYXRhRnJvbVN0cmluZyhkb2MsIGNsaXBib2FyZERhdGEpIDogY2xpcGJvYXJkRGF0YSkgIT09IG51bGwgJiYgX3JlZiAhPT0gdW5kZWZpbmVkID8gX3JlZiA6IGF3YWl0IENsaXBib2FyZC5yZWFkRGF0YVRyYW5zZmVyRnJvbUNsaXBib2FyZChkb2MpLmNhdGNoKCgpPT57XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignYHVzZXJFdmVudC5wYXN0ZSgpYCB3aXRob3V0IGBjbGlwYm9hcmREYXRhYCByZXF1aXJlcyB0aGUgYENsaXBib2FyZEFQSWAgdG8gYmUgYXZhaWxhYmxlLicpO1xuICAgIH0pO1xuICAgIHRoaXMuZGlzcGF0Y2hVSUV2ZW50KHRhcmdldCwgJ3Bhc3RlJywge1xuICAgICAgICBjbGlwYm9hcmREYXRhOiBkYXRhVHJhbnNmZXJcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGdldENsaXBib2FyZERhdGFGcm9tU3RyaW5nKGRvYywgdGV4dCkge1xuICAgIGNvbnN0IGR0ID0gRGF0YVRyYW5zZmVyLmNyZWF0ZURhdGFUcmFuc2ZlcihnZXRXaW5kb3cuZ2V0V2luZG93KGRvYykpO1xuICAgIGR0LnNldERhdGEoJ3RleHQnLCB0ZXh0KTtcbiAgICByZXR1cm4gZHQ7XG59XG5cbmV4cG9ydHMucGFzdGUgPSBwYXN0ZTtcbiJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWTs7QUFFWixJQUFJQSxZQUFZLEdBQUdDLE9BQU8sQ0FBQyx1Q0FBdUMsQ0FBQztBQUNuRSxJQUFJQyxTQUFTLEdBQUdELE9BQU8sQ0FBQyxvQ0FBb0MsQ0FBQztBQUM3RCxJQUFJRSxTQUFTLEdBQUdGLE9BQU8sQ0FBQyw0QkFBNEIsQ0FBQztBQUVyRCxlQUFlRyxLQUFLQSxDQUFDQyxhQUFhLEVBQUU7RUFDaEMsTUFBTUMsR0FBRyxHQUFHLElBQUksQ0FBQ0MsTUFBTSxDQUFDQyxRQUFRO0VBQ2hDLElBQUlDLGtCQUFrQjtFQUN0QixNQUFNQyxNQUFNLEdBQUcsQ0FBQ0Qsa0JBQWtCLEdBQUdILEdBQUcsQ0FBQ0ssYUFBYSxNQUFNLElBQUksSUFBSUYsa0JBQWtCLEtBQUtHLFNBQVMsR0FBR0gsa0JBQWtCLEdBQUcsMEJBQTJCSCxHQUFHLENBQUNPLElBQUk7RUFDL0osSUFBSUMsSUFBSTtFQUNSLE1BQU1DLFlBQVksR0FBRyxDQUFDRCxJQUFJLEdBQUcsT0FBT1QsYUFBYSxLQUFLLFFBQVEsR0FBR1csMEJBQTBCLENBQUNWLEdBQUcsRUFBRUQsYUFBYSxDQUFDLEdBQUdBLGFBQWEsTUFBTSxJQUFJLElBQUlTLElBQUksS0FBS0YsU0FBUyxHQUFHRSxJQUFJLEdBQUcsTUFBTVosU0FBUyxDQUFDZSw2QkFBNkIsQ0FBQ1gsR0FBRyxDQUFDLENBQUNZLEtBQUssQ0FBQyxNQUFJO0lBQ2xPLE1BQU0sSUFBSUMsS0FBSyxDQUFDLDBGQUEwRixDQUFDO0VBQy9HLENBQUMsQ0FBQztFQUNGLElBQUksQ0FBQ0MsZUFBZSxDQUFDVixNQUFNLEVBQUUsT0FBTyxFQUFFO0lBQ2xDTCxhQUFhLEVBQUVVO0VBQ25CLENBQUMsQ0FBQztBQUNOO0FBQ0EsU0FBU0MsMEJBQTBCQSxDQUFDVixHQUFHLEVBQUVlLElBQUksRUFBRTtFQUMzQyxNQUFNQyxFQUFFLEdBQUd0QixZQUFZLENBQUN1QixrQkFBa0IsQ0FBQ3BCLFNBQVMsQ0FBQ0EsU0FBUyxDQUFDRyxHQUFHLENBQUMsQ0FBQztFQUNwRWdCLEVBQUUsQ0FBQ0UsT0FBTyxDQUFDLE1BQU0sRUFBRUgsSUFBSSxDQUFDO0VBQ3hCLE9BQU9DLEVBQUU7QUFDYjtBQUVBRyxPQUFPLENBQUNyQixLQUFLLEdBQUdBLEtBQUsiLCJpZ25vcmVMaXN0IjpbXX0=