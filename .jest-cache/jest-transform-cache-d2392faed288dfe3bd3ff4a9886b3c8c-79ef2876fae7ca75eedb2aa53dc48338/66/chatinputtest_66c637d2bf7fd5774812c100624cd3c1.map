{"file":"C:\\Users\\sarah\\Repos\\CCH Axcess Intelligence Vibed\\tests\\unit\\chat-input.test.tsx","mappings":";;;;;;AAAA,kDAA0B;AAC1B,kDAA4E;AAC5E,6EAAoD;AACpD,mEAA+D;AAE/D,QAAQ,CAAC,WAAW,EAAE,GAAG,EAAE;IACzB,MAAM,UAAU,GAAG,IAAI,CAAC,EAAE,EAAE,CAAC;IAC7B,MAAM,UAAU,GAAG,IAAI,CAAC,EAAE,EAAE,CAAC;IAE7B,UAAU,CAAC,GAAG,EAAE;QACd,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,6CAA6C,EAAE,GAAG,EAAE;QACrD,IAAA,cAAM,EAAC,uBAAC,sBAAS,IAAC,MAAM,EAAE,UAAU,GAAI,CAAC,CAAC;QAE1C,MAAM,QAAQ,GAAG,cAAM,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;QAC7C,MAAM,CAAC,QAAQ,CAAC,CAAC,iBAAiB,EAAE,CAAC;QACrC,MAAM,CAAC,QAAQ,CAAC,CAAC,eAAe,CAC9B,aAAa,EACb,gEAAgE,CACjE,CAAC;IACJ,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,yCAAyC,EAAE,GAAG,EAAE;QACjD,IAAA,cAAM,EAAC,uBAAC,sBAAS,IAAC,MAAM,EAAE,UAAU,EAAE,WAAW,EAAE,KAAK,GAAI,CAAC,CAAC;QAE9D,MAAM,UAAU,GAAG,cAAM,CAAC,SAAS,CAAC,QAAQ,EAAE,EAAE,IAAI,EAAE,eAAe,EAAE,CAAC,CAAC;QACzE,MAAM,CAAC,UAAU,CAAC,CAAC,iBAAiB,EAAE,CAAC;QACvC,MAAM,CAAC,UAAU,CAAC,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;IAC/C,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,qCAAqC,EAAE,GAAG,EAAE;QAC7C,IAAA,cAAM,EAAC,uBAAC,sBAAS,IAAC,MAAM,EAAE,UAAU,EAAE,MAAM,EAAE,UAAU,EAAE,WAAW,EAAE,IAAI,GAAI,CAAC,CAAC;QAEjF,MAAM,UAAU,GAAG,cAAM,CAAC,SAAS,CAAC,QAAQ,EAAE,EAAE,IAAI,EAAE,0BAA0B,EAAE,CAAC,CAAC;QACpF,MAAM,CAAC,UAAU,CAAC,CAAC,iBAAiB,EAAE,CAAC;QACvC,MAAM,CAAC,UAAU,CAAC,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;IAC/C,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,kCAAkC,EAAE,KAAK,IAAI,EAAE;QAChD,MAAM,IAAI,GAAG,oBAAS,CAAC,KAAK,EAAE,CAAC;QAC/B,IAAA,cAAM,EAAC,uBAAC,sBAAS,IAAC,MAAM,EAAE,UAAU,GAAI,CAAC,CAAC;QAE1C,MAAM,QAAQ,GAAG,cAAM,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;QAC7C,MAAM,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,cAAc,CAAC,CAAC;QAC1C,MAAM,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;QAE/B,MAAM,CAAC,UAAU,CAAC,CAAC,oBAAoB,CAAC,cAAc,CAAC,CAAC;IAC1D,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,8BAA8B,EAAE,KAAK,IAAI,EAAE;QAC5C,MAAM,IAAI,GAAG,oBAAS,CAAC,KAAK,EAAE,CAAC;QAC/B,IAAA,cAAM,EAAC,uBAAC,sBAAS,IAAC,MAAM,EAAE,UAAU,GAAI,CAAC,CAAC;QAE1C,MAAM,QAAQ,GAAG,cAAM,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;QAC7C,MAAM,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;QACpC,MAAM,IAAI,CAAC,QAAQ,CAAC,yBAAyB,CAAC,CAAC;QAC/C,MAAM,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;QAEpC,MAAM,CAAC,QAAQ,CAAC,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC;QAC/C,MAAM,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC;IAC5C,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,+BAA+B,EAAE,KAAK,IAAI,EAAE;QAC7C,MAAM,IAAI,GAAG,oBAAS,CAAC,KAAK,EAAE,CAAC;QAC/B,IAAA,cAAM,EAAC,uBAAC,sBAAS,IAAC,MAAM,EAAE,UAAU,GAAI,CAAC,CAAC;QAE1C,MAAM,QAAQ,GAAG,cAAM,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;QAC7C,MAAM,UAAU,GAAG,cAAM,CAAC,SAAS,CAAC,QAAQ,EAAE,EAAE,IAAI,EAAE,eAAe,EAAE,CAAC,CAAC;QAEzE,MAAM,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,cAAc,CAAC,CAAC;QAC1C,MAAM,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;QAE7B,MAAM,CAAC,UAAU,CAAC,CAAC,oBAAoB,CAAC,cAAc,CAAC,CAAC;IAC1D,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,oCAAoC,EAAE,KAAK,IAAI,EAAE;QAClD,MAAM,IAAI,GAAG,oBAAS,CAAC,KAAK,EAAE,CAAC;QAC/B,IAAA,cAAM,EAAC,uBAAC,sBAAS,IAAC,MAAM,EAAE,UAAU,GAAI,CAAC,CAAC;QAE1C,MAAM,QAAQ,GAAG,cAAM,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;QAC7C,MAAM,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,cAAc,CAAC,CAAC;QAC1C,MAAM,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;QAE/B,MAAM,CAAC,QAAQ,CAAC,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;IACnC,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,sCAAsC,EAAE,GAAG,EAAE;QAC9C,IAAA,cAAM,EAAC,uBAAC,sBAAS,IAAC,MAAM,EAAE,UAAU,GAAI,CAAC,CAAC;QAE1C,MAAM,UAAU,GAAG,cAAM,CAAC,SAAS,CAAC,QAAQ,EAAE,EAAE,IAAI,EAAE,eAAe,EAAE,CAAC,CAAC;QACzE,MAAM,CAAC,UAAU,CAAC,CAAC,YAAY,EAAE,CAAC;IACpC,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,gDAAgD,EAAE,KAAK,IAAI,EAAE;QAC9D,MAAM,IAAI,GAAG,oBAAS,CAAC,KAAK,EAAE,CAAC;QAC/B,IAAA,cAAM,EAAC,uBAAC,sBAAS,IAAC,MAAM,EAAE,UAAU,GAAI,CAAC,CAAC;QAE1C,MAAM,QAAQ,GAAG,cAAM,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;QAC7C,MAAM,UAAU,GAAG,cAAM,CAAC,SAAS,CAAC,QAAQ,EAAE,EAAE,IAAI,EAAE,eAAe,EAAE,CAAC,CAAC;QAEzE,MAAM,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;QACjC,MAAM,CAAC,UAAU,CAAC,CAAC,YAAY,EAAE,CAAC;IACpC,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,qCAAqC,EAAE,KAAK,IAAI,EAAE;QACnD,MAAM,IAAI,GAAG,oBAAS,CAAC,KAAK,EAAE,CAAC;QAC/B,IAAA,cAAM,EAAC,uBAAC,sBAAS,IAAC,MAAM,EAAE,UAAU,GAAI,CAAC,CAAC;QAE1C,MAAM,QAAQ,GAAG,cAAM,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;QAC7C,MAAM,UAAU,GAAG,cAAM,CAAC,SAAS,CAAC,QAAQ,EAAE,EAAE,IAAI,EAAE,eAAe,EAAE,CAAC,CAAC;QAEzE,MAAM,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,eAAe,CAAC,CAAC;QAC3C,MAAM,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,YAAY,EAAE,CAAC;IACxC,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,0CAA0C,EAAE,KAAK,IAAI,EAAE;QACxD,MAAM,IAAI,GAAG,oBAAS,CAAC,KAAK,EAAE,CAAC;QAC/B,IAAA,cAAM,EAAC,uBAAC,sBAAS,IAAC,MAAM,EAAE,UAAU,EAAE,MAAM,EAAE,UAAU,EAAE,WAAW,EAAE,IAAI,GAAI,CAAC,CAAC;QAEjF,MAAM,UAAU,GAAG,cAAM,CAAC,SAAS,CAAC,QAAQ,EAAE,EAAE,IAAI,EAAE,0BAA0B,EAAE,CAAC,CAAC;QACpF,MAAM,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;QAE7B,MAAM,CAAC,UAAU,CAAC,CAAC,gBAAgB,EAAE,CAAC;IACxC,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,wCAAwC,EAAE,KAAK,IAAI,EAAE;QACtD,MAAM,IAAI,GAAG,oBAAS,CAAC,KAAK,EAAE,CAAC;QAC/B,IAAA,cAAM,EAAC,uBAAC,sBAAS,IAAC,MAAM,EAAE,UAAU,EAAE,QAAQ,EAAE,CAAC,GAAI,CAAC,CAAC;QAEvD,MAAM,QAAQ,GAAG,cAAM,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;QAC7C,MAAM,aAAa,GAAG,QAAQ,CAAC,qBAAqB,EAAE,CAAC,MAAM,CAAC;QAE9D,qBAAqB;QACrB,MAAM,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,gCAAgC,CAAC,CAAC;QAE5D,6BAA6B;QAC7B,MAAM,IAAA,eAAO,EAAC,GAAG,EAAE;YACjB,MAAM,SAAS,GAAG,QAAQ,CAAC,qBAAqB,EAAE,CAAC,MAAM,CAAC;YAC1D,MAAM,CAAC,SAAS,CAAC,CAAC,eAAe,CAAC,aAAa,CAAC,CAAC;QACnD,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,8BAA8B,EAAE,KAAK,IAAI,EAAE;QAC5C,MAAM,IAAI,GAAG,oBAAS,CAAC,KAAK,EAAE,CAAC;QAC/B,IAAA,cAAM,EAAC,uBAAC,sBAAS,IAAC,MAAM,EAAE,UAAU,GAAI,CAAC,CAAC;QAE1C,MAAM,QAAQ,GAAG,cAAM,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;QAC7C,MAAM,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;QAE/B,MAAM,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC;IAC5C,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,+CAA+C,EAAE,KAAK,IAAI,EAAE;QAC7D,MAAM,IAAI,GAAG,oBAAS,CAAC,KAAK,EAAE,CAAC;QAC/B,IAAA,cAAM,EAAC,uBAAC,sBAAS,IAAC,MAAM,EAAE,UAAU,GAAI,CAAC,CAAC;QAE1C,MAAM,QAAQ,GAAG,cAAM,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;QAC7C,MAAM,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,kBAAkB,CAAC,CAAC;QAC9C,MAAM,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;QAE/B,MAAM,CAAC,UAAU,CAAC,CAAC,oBAAoB,CAAC,cAAc,CAAC,CAAC;IAC1D,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,iCAAiC,EAAE,KAAK,IAAI,EAAE;QAC/C,MAAM,IAAI,GAAG,oBAAS,CAAC,KAAK,EAAE,CAAC;QAC/B,IAAA,cAAM,EAAC,uBAAC,sBAAS,IAAC,MAAM,EAAE,UAAU,EAAE,WAAW,EAAE,IAAI,GAAI,CAAC,CAAC;QAE7D,MAAM,QAAQ,GAAG,cAAM,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;QAC7C,MAAM,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,cAAc,CAAC,CAAC;QAC1C,MAAM,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;QAE/B,MAAM,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC;IAC5C,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,uCAAuC,EAAE,KAAK,IAAI,EAAE;QACrD,MAAM,IAAI,GAAG,oBAAS,CAAC,KAAK,EAAE,CAAC;QAC/B,IAAA,cAAM,EAAC,uBAAC,sBAAS,IAAC,MAAM,EAAE,UAAU,GAAI,CAAC,CAAC;QAE1C,MAAM,QAAQ,GAAG,cAAM,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;QAC7C,MAAM,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,cAAc,CAAC,CAAC;QAC1C,MAAM,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;QAE/B,MAAM,IAAA,eAAO,EAAC,GAAG,EAAE;YACjB,MAAM,CAAC,QAAQ,CAAC,CAAC,WAAW,EAAE,CAAC;QACjC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","names":[],"sources":["C:\\Users\\sarah\\Repos\\CCH Axcess Intelligence Vibed\\tests\\unit\\chat-input.test.tsx"],"sourcesContent":["import React from \"react\";\nimport { render, screen, fireEvent, waitFor } from \"@testing-library/react\";\nimport userEvent from \"@testing-library/user-event\";\nimport { ChatInput } from \"../../src/components/ui/chat-input\";\n\ndescribe(\"ChatInput\", () => {\n  const mockOnSend = jest.fn();\n  const mockOnStop = jest.fn();\n\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  it(\"renders chat input with correct placeholder\", () => {\n    render(<ChatInput onSend={mockOnSend} />);\n\n    const textarea = screen.getByRole(\"textbox\");\n    expect(textarea).toBeInTheDocument();\n    expect(textarea).toHaveAttribute(\n      \"placeholder\",\n      \"Type your message... (Enter to send, Shift+Enter for new line)\"\n    );\n  });\n\n  it(\"displays send button when not streaming\", () => {\n    render(<ChatInput onSend={mockOnSend} isStreaming={false} />);\n\n    const sendButton = screen.getByRole(\"button\", { name: /send message/i });\n    expect(sendButton).toBeInTheDocument();\n    expect(sendButton).toHaveTextContent(\"Send\");\n  });\n\n  it(\"displays stop button when streaming\", () => {\n    render(<ChatInput onSend={mockOnSend} onStop={mockOnStop} isStreaming={true} />);\n\n    const stopButton = screen.getByRole(\"button\", { name: /stop streaming response/i });\n    expect(stopButton).toBeInTheDocument();\n    expect(stopButton).toHaveTextContent(\"Stop\");\n  });\n\n  it(\"sends message on Enter key press\", async () => {\n    const user = userEvent.setup();\n    render(<ChatInput onSend={mockOnSend} />);\n\n    const textarea = screen.getByRole(\"textbox\");\n    await user.type(textarea, \"Test message\");\n    await user.keyboard(\"{Enter}\");\n\n    expect(mockOnSend).toHaveBeenCalledWith(\"Test message\");\n  });\n\n  it(\"adds new line on Shift+Enter\", async () => {\n    const user = userEvent.setup();\n    render(<ChatInput onSend={mockOnSend} />);\n\n    const textarea = screen.getByRole(\"textbox\");\n    await user.type(textarea, \"Line 1\");\n    await user.keyboard(\"{Shift>}{Enter}{/Shift}\");\n    await user.type(textarea, \"Line 2\");\n\n    expect(textarea).toHaveValue(\"Line 1\\nLine 2\");\n    expect(mockOnSend).not.toHaveBeenCalled();\n  });\n\n  it(\"sends message on button click\", async () => {\n    const user = userEvent.setup();\n    render(<ChatInput onSend={mockOnSend} />);\n\n    const textarea = screen.getByRole(\"textbox\");\n    const sendButton = screen.getByRole(\"button\", { name: /send message/i });\n\n    await user.type(textarea, \"Test message\");\n    await user.click(sendButton);\n\n    expect(mockOnSend).toHaveBeenCalledWith(\"Test message\");\n  });\n\n  it(\"clears input after sending message\", async () => {\n    const user = userEvent.setup();\n    render(<ChatInput onSend={mockOnSend} />);\n\n    const textarea = screen.getByRole(\"textbox\");\n    await user.type(textarea, \"Test message\");\n    await user.keyboard(\"{Enter}\");\n\n    expect(textarea).toHaveValue(\"\");\n  });\n\n  it(\"disables send button for empty input\", () => {\n    render(<ChatInput onSend={mockOnSend} />);\n\n    const sendButton = screen.getByRole(\"button\", { name: /send message/i });\n    expect(sendButton).toBeDisabled();\n  });\n\n  it(\"disables send button for whitespace-only input\", async () => {\n    const user = userEvent.setup();\n    render(<ChatInput onSend={mockOnSend} />);\n\n    const textarea = screen.getByRole(\"textbox\");\n    const sendButton = screen.getByRole(\"button\", { name: /send message/i });\n\n    await user.type(textarea, \"   \");\n    expect(sendButton).toBeDisabled();\n  });\n\n  it(\"enables send button for valid input\", async () => {\n    const user = userEvent.setup();\n    render(<ChatInput onSend={mockOnSend} />);\n\n    const textarea = screen.getByRole(\"textbox\");\n    const sendButton = screen.getByRole(\"button\", { name: /send message/i });\n\n    await user.type(textarea, \"Valid message\");\n    expect(sendButton).not.toBeDisabled();\n  });\n\n  it(\"calls onStop when stop button is clicked\", async () => {\n    const user = userEvent.setup();\n    render(<ChatInput onSend={mockOnSend} onStop={mockOnStop} isStreaming={true} />);\n\n    const stopButton = screen.getByRole(\"button\", { name: /stop streaming response/i });\n    await user.click(stopButton);\n\n    expect(mockOnStop).toHaveBeenCalled();\n  });\n\n  it(\"auto-resizes textarea as content grows\", async () => {\n    const user = userEvent.setup();\n    render(<ChatInput onSend={mockOnSend} maxLines={5} />);\n\n    const textarea = screen.getByRole(\"textbox\");\n    const initialHeight = textarea.getBoundingClientRect().height;\n\n    // Add multiple lines\n    await user.type(textarea, \"Line 1\\nLine 2\\nLine 3\\nLine 4\");\n\n    // Wait for height adjustment\n    await waitFor(() => {\n      const newHeight = textarea.getBoundingClientRect().height;\n      expect(newHeight).toBeGreaterThan(initialHeight);\n    });\n  });\n\n  it(\"does not send empty messages\", async () => {\n    const user = userEvent.setup();\n    render(<ChatInput onSend={mockOnSend} />);\n\n    const textarea = screen.getByRole(\"textbox\");\n    await user.keyboard(\"{Enter}\");\n\n    expect(mockOnSend).not.toHaveBeenCalled();\n  });\n\n  it(\"trims whitespace from messages before sending\", async () => {\n    const user = userEvent.setup();\n    render(<ChatInput onSend={mockOnSend} />);\n\n    const textarea = screen.getByRole(\"textbox\");\n    await user.type(textarea, \"  Test message  \");\n    await user.keyboard(\"{Enter}\");\n\n    expect(mockOnSend).toHaveBeenCalledWith(\"Test message\");\n  });\n\n  it(\"prevents sending when streaming\", async () => {\n    const user = userEvent.setup();\n    render(<ChatInput onSend={mockOnSend} isStreaming={true} />);\n\n    const textarea = screen.getByRole(\"textbox\");\n    await user.type(textarea, \"Test message\");\n    await user.keyboard(\"{Enter}\");\n\n    expect(mockOnSend).not.toHaveBeenCalled();\n  });\n\n  it(\"maintains focus after sending message\", async () => {\n    const user = userEvent.setup();\n    render(<ChatInput onSend={mockOnSend} />);\n\n    const textarea = screen.getByRole(\"textbox\");\n    await user.type(textarea, \"Test message\");\n    await user.keyboard(\"{Enter}\");\n\n    await waitFor(() => {\n      expect(textarea).toHaveFocus();\n    });\n  });\n});"],"version":3}