4023fe4cc2b379e158d49f2a499bdcac
'use strict';

var isElementType = require('./isElementType.js');

// This should probably just rely on the :disabled pseudo-class, but JSDOM doesn't implement it properly.
function isDisabled(element) {
  for (let el = element; el; el = el.parentElement) {
    if (isElementType.isElementType(el, ['button', 'input', 'select', 'textarea', 'optgroup', 'option'])) {
      if (el.hasAttribute('disabled')) {
        return true;
      }
    } else if (isElementType.isElementType(el, 'fieldset')) {
      var _el_querySelector;
      if (el.hasAttribute('disabled') && !((_el_querySelector = el.querySelector(':scope > legend')) === null || _el_querySelector === undefined ? undefined : _el_querySelector.contains(element))) {
        return true;
      }
    } else if (el.tagName.includes('-')) {
      if (el.constructor.formAssociated && el.hasAttribute('disabled')) {
        return true;
      }
    }
  }
  return false;
}
exports.isDisabled = isDisabled;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpc0VsZW1lbnRUeXBlIiwicmVxdWlyZSIsImlzRGlzYWJsZWQiLCJlbGVtZW50IiwiZWwiLCJwYXJlbnRFbGVtZW50IiwiaGFzQXR0cmlidXRlIiwiX2VsX3F1ZXJ5U2VsZWN0b3IiLCJxdWVyeVNlbGVjdG9yIiwidW5kZWZpbmVkIiwiY29udGFpbnMiLCJ0YWdOYW1lIiwiaW5jbHVkZXMiLCJjb25zdHJ1Y3RvciIsImZvcm1Bc3NvY2lhdGVkIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbImlzRGlzYWJsZWQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaXNFbGVtZW50VHlwZSA9IHJlcXVpcmUoJy4vaXNFbGVtZW50VHlwZS5qcycpO1xuXG4vLyBUaGlzIHNob3VsZCBwcm9iYWJseSBqdXN0IHJlbHkgb24gdGhlIDpkaXNhYmxlZCBwc2V1ZG8tY2xhc3MsIGJ1dCBKU0RPTSBkb2Vzbid0IGltcGxlbWVudCBpdCBwcm9wZXJseS5cbmZ1bmN0aW9uIGlzRGlzYWJsZWQoZWxlbWVudCkge1xuICAgIGZvcihsZXQgZWwgPSBlbGVtZW50OyBlbDsgZWwgPSBlbC5wYXJlbnRFbGVtZW50KXtcbiAgICAgICAgaWYgKGlzRWxlbWVudFR5cGUuaXNFbGVtZW50VHlwZShlbCwgW1xuICAgICAgICAgICAgJ2J1dHRvbicsXG4gICAgICAgICAgICAnaW5wdXQnLFxuICAgICAgICAgICAgJ3NlbGVjdCcsXG4gICAgICAgICAgICAndGV4dGFyZWEnLFxuICAgICAgICAgICAgJ29wdGdyb3VwJyxcbiAgICAgICAgICAgICdvcHRpb24nXG4gICAgICAgIF0pKSB7XG4gICAgICAgICAgICBpZiAoZWwuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoaXNFbGVtZW50VHlwZS5pc0VsZW1lbnRUeXBlKGVsLCAnZmllbGRzZXQnKSkge1xuICAgICAgICAgICAgdmFyIF9lbF9xdWVyeVNlbGVjdG9yO1xuICAgICAgICAgICAgaWYgKGVsLmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSAmJiAhKChfZWxfcXVlcnlTZWxlY3RvciA9IGVsLnF1ZXJ5U2VsZWN0b3IoJzpzY29wZSA+IGxlZ2VuZCcpKSA9PT0gbnVsbCB8fCBfZWxfcXVlcnlTZWxlY3RvciA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogX2VsX3F1ZXJ5U2VsZWN0b3IuY29udGFpbnMoZWxlbWVudCkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZWwudGFnTmFtZS5pbmNsdWRlcygnLScpKSB7XG4gICAgICAgICAgICBpZiAoZWwuY29uc3RydWN0b3IuZm9ybUFzc29jaWF0ZWQgJiYgZWwuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnRzLmlzRGlzYWJsZWQgPSBpc0Rpc2FibGVkO1xuIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZOztBQUVaLElBQUlBLGFBQWEsR0FBR0MsT0FBTyxDQUFDLG9CQUFvQixDQUFDOztBQUVqRDtBQUNBLFNBQVNDLFVBQVVBLENBQUNDLE9BQU8sRUFBRTtFQUN6QixLQUFJLElBQUlDLEVBQUUsR0FBR0QsT0FBTyxFQUFFQyxFQUFFLEVBQUVBLEVBQUUsR0FBR0EsRUFBRSxDQUFDQyxhQUFhLEVBQUM7SUFDNUMsSUFBSUwsYUFBYSxDQUFDQSxhQUFhLENBQUNJLEVBQUUsRUFBRSxDQUNoQyxRQUFRLEVBQ1IsT0FBTyxFQUNQLFFBQVEsRUFDUixVQUFVLEVBQ1YsVUFBVSxFQUNWLFFBQVEsQ0FDWCxDQUFDLEVBQUU7TUFDQSxJQUFJQSxFQUFFLENBQUNFLFlBQVksQ0FBQyxVQUFVLENBQUMsRUFBRTtRQUM3QixPQUFPLElBQUk7TUFDZjtJQUNKLENBQUMsTUFBTSxJQUFJTixhQUFhLENBQUNBLGFBQWEsQ0FBQ0ksRUFBRSxFQUFFLFVBQVUsQ0FBQyxFQUFFO01BQ3BELElBQUlHLGlCQUFpQjtNQUNyQixJQUFJSCxFQUFFLENBQUNFLFlBQVksQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLENBQUNDLGlCQUFpQixHQUFHSCxFQUFFLENBQUNJLGFBQWEsQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLElBQUksSUFBSUQsaUJBQWlCLEtBQUtFLFNBQVMsR0FBR0EsU0FBUyxHQUFHRixpQkFBaUIsQ0FBQ0csUUFBUSxDQUFDUCxPQUFPLENBQUMsQ0FBQyxFQUFFO1FBQzNMLE9BQU8sSUFBSTtNQUNmO0lBQ0osQ0FBQyxNQUFNLElBQUlDLEVBQUUsQ0FBQ08sT0FBTyxDQUFDQyxRQUFRLENBQUMsR0FBRyxDQUFDLEVBQUU7TUFDakMsSUFBSVIsRUFBRSxDQUFDUyxXQUFXLENBQUNDLGNBQWMsSUFBSVYsRUFBRSxDQUFDRSxZQUFZLENBQUMsVUFBVSxDQUFDLEVBQUU7UUFDOUQsT0FBTyxJQUFJO01BQ2Y7SUFDSjtFQUNKO0VBQ0EsT0FBTyxLQUFLO0FBQ2hCO0FBRUFTLE9BQU8sQ0FBQ2IsVUFBVSxHQUFHQSxVQUFVIiwiaWdub3JlTGlzdCI6W119