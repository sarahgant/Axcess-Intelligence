{"version":3,"names":["fakeFiles","Symbol","restoreProperty","obj","prop","descriptor","Object","defineProperty","setFiles","el","files","_el_fakeFiles","undefined","restore","typeDescr","getOwnPropertyDescriptor","valueDescr","filesDescr","defineProperties","configurable","get","value","length","name","set","v","_valueDescr_set","call","type","exports"],"sources":["setFiles.js"],"sourcesContent":["'use strict';\n\n// It is not possible to create a real FileList programmatically.\n// Therefore assigning `files` property with a programmatically created FileList results in an error.\n// Just assigning the property (as per fireEvent) breaks the interweaving with the `value` property.\nconst fakeFiles = Symbol('files and value properties are mocked');\nfunction restoreProperty(obj, prop, descriptor) {\n    if (descriptor) {\n        Object.defineProperty(obj, prop, descriptor);\n    } else {\n        // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n        delete obj[prop];\n    }\n}\nfunction setFiles(el, files) {\n    var _el_fakeFiles;\n    (_el_fakeFiles = el[fakeFiles]) === null || _el_fakeFiles === undefined ? undefined : _el_fakeFiles.restore();\n    const typeDescr = Object.getOwnPropertyDescriptor(el, 'type');\n    const valueDescr = Object.getOwnPropertyDescriptor(el, 'value');\n    const filesDescr = Object.getOwnPropertyDescriptor(el, 'files');\n    function restore() {\n        restoreProperty(el, 'type', typeDescr);\n        restoreProperty(el, 'value', valueDescr);\n        restoreProperty(el, 'files', filesDescr);\n    }\n    el[fakeFiles] = {\n        restore\n    };\n    Object.defineProperties(el, {\n        files: {\n            configurable: true,\n            get: ()=>files\n        },\n        value: {\n            configurable: true,\n            get: ()=>files.length ? `C:\\\\fakepath\\\\${files[0].name}` : '',\n            set (v) {\n                if (v === '') {\n                    restore();\n                } else {\n                    var _valueDescr_set;\n                    valueDescr === null || valueDescr === undefined ? undefined : (_valueDescr_set = valueDescr.set) === null || _valueDescr_set === undefined ? undefined : _valueDescr_set.call(el, v);\n                }\n            }\n        },\n        type: {\n            configurable: true,\n            get: ()=>'file',\n            set (v) {\n                if (v !== 'file') {\n                    restore();\n                    el.type = v;\n                }\n            }\n        }\n    });\n}\n\nexports.setFiles = setFiles;\n"],"mappings":"AAAA,YAAY;;AAEZ;AACA;AACA;AACA,MAAMA,SAAS,GAAGC,MAAM,CAAC,uCAAuC,CAAC;AACjE,SAASC,eAAeA,CAACC,GAAG,EAAEC,IAAI,EAAEC,UAAU,EAAE;EAC5C,IAAIA,UAAU,EAAE;IACZC,MAAM,CAACC,cAAc,CAACJ,GAAG,EAAEC,IAAI,EAAEC,UAAU,CAAC;EAChD,CAAC,MAAM;IACH;IACA,OAAOF,GAAG,CAACC,IAAI,CAAC;EACpB;AACJ;AACA,SAASI,QAAQA,CAACC,EAAE,EAAEC,KAAK,EAAE;EACzB,IAAIC,aAAa;EACjB,CAACA,aAAa,GAAGF,EAAE,CAACT,SAAS,CAAC,MAAM,IAAI,IAAIW,aAAa,KAAKC,SAAS,GAAGA,SAAS,GAAGD,aAAa,CAACE,OAAO,CAAC,CAAC;EAC7G,MAAMC,SAAS,GAAGR,MAAM,CAACS,wBAAwB,CAACN,EAAE,EAAE,MAAM,CAAC;EAC7D,MAAMO,UAAU,GAAGV,MAAM,CAACS,wBAAwB,CAACN,EAAE,EAAE,OAAO,CAAC;EAC/D,MAAMQ,UAAU,GAAGX,MAAM,CAACS,wBAAwB,CAACN,EAAE,EAAE,OAAO,CAAC;EAC/D,SAASI,OAAOA,CAAA,EAAG;IACfX,eAAe,CAACO,EAAE,EAAE,MAAM,EAAEK,SAAS,CAAC;IACtCZ,eAAe,CAACO,EAAE,EAAE,OAAO,EAAEO,UAAU,CAAC;IACxCd,eAAe,CAACO,EAAE,EAAE,OAAO,EAAEQ,UAAU,CAAC;EAC5C;EACAR,EAAE,CAACT,SAAS,CAAC,GAAG;IACZa;EACJ,CAAC;EACDP,MAAM,CAACY,gBAAgB,CAACT,EAAE,EAAE;IACxBC,KAAK,EAAE;MACHS,YAAY,EAAE,IAAI;MAClBC,GAAG,EAAEA,CAAA,KAAIV;IACb,CAAC;IACDW,KAAK,EAAE;MACHF,YAAY,EAAE,IAAI;MAClBC,GAAG,EAAEA,CAAA,KAAIV,KAAK,CAACY,MAAM,GAAG,iBAAiBZ,KAAK,CAAC,CAAC,CAAC,CAACa,IAAI,EAAE,GAAG,EAAE;MAC7DC,GAAGA,CAAEC,CAAC,EAAE;QACJ,IAAIA,CAAC,KAAK,EAAE,EAAE;UACVZ,OAAO,CAAC,CAAC;QACb,CAAC,MAAM;UACH,IAAIa,eAAe;UACnBV,UAAU,KAAK,IAAI,IAAIA,UAAU,KAAKJ,SAAS,GAAGA,SAAS,GAAG,CAACc,eAAe,GAAGV,UAAU,CAACQ,GAAG,MAAM,IAAI,IAAIE,eAAe,KAAKd,SAAS,GAAGA,SAAS,GAAGc,eAAe,CAACC,IAAI,CAAClB,EAAE,EAAEgB,CAAC,CAAC;QACxL;MACJ;IACJ,CAAC;IACDG,IAAI,EAAE;MACFT,YAAY,EAAE,IAAI;MAClBC,GAAG,EAAEA,CAAA,KAAI,MAAM;MACfI,GAAGA,CAAEC,CAAC,EAAE;QACJ,IAAIA,CAAC,KAAK,MAAM,EAAE;UACdZ,OAAO,CAAC,CAAC;UACTJ,EAAE,CAACmB,IAAI,GAAGH,CAAC;QACf;MACJ;IACJ;EACJ,CAAC,CAAC;AACN;AAEAI,OAAO,CAACrB,QAAQ,GAAGA,QAAQ","ignoreList":[]}