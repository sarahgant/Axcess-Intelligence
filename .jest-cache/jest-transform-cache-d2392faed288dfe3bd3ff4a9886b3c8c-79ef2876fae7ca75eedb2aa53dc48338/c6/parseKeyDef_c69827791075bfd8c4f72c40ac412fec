61e0a46f30a2b62c2f5808bc2919873c
'use strict';

require('../utils/dataTransfer/Clipboard.js');
var readNextDescriptor = require('../utils/keyDef/readNextDescriptor.js');
function parseKeyDef(pointerMap, keys) {
  const defs = [];
  do {
    const {
      descriptor,
      consumedLength,
      releasePrevious,
      releaseSelf = true
    } = readNextDescriptor.readNextDescriptor(keys, 'pointer');
    const keyDef = pointerMap.find(p => p.name === descriptor);
    if (keyDef) {
      defs.push({
        keyDef,
        releasePrevious,
        releaseSelf
      });
    }
    keys = keys.slice(consumedLength);
  } while (keys);
  return defs;
}
exports.parseKeyDef = parseKeyDef;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwicmVhZE5leHREZXNjcmlwdG9yIiwicGFyc2VLZXlEZWYiLCJwb2ludGVyTWFwIiwia2V5cyIsImRlZnMiLCJkZXNjcmlwdG9yIiwiY29uc3VtZWRMZW5ndGgiLCJyZWxlYXNlUHJldmlvdXMiLCJyZWxlYXNlU2VsZiIsImtleURlZiIsImZpbmQiLCJwIiwibmFtZSIsInB1c2giLCJzbGljZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJwYXJzZUtleURlZi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnJlcXVpcmUoJy4uL3V0aWxzL2RhdGFUcmFuc2Zlci9DbGlwYm9hcmQuanMnKTtcbnZhciByZWFkTmV4dERlc2NyaXB0b3IgPSByZXF1aXJlKCcuLi91dGlscy9rZXlEZWYvcmVhZE5leHREZXNjcmlwdG9yLmpzJyk7XG5cbmZ1bmN0aW9uIHBhcnNlS2V5RGVmKHBvaW50ZXJNYXAsIGtleXMpIHtcbiAgICBjb25zdCBkZWZzID0gW107XG4gICAgZG8ge1xuICAgICAgICBjb25zdCB7IGRlc2NyaXB0b3IsIGNvbnN1bWVkTGVuZ3RoLCByZWxlYXNlUHJldmlvdXMsIHJlbGVhc2VTZWxmID0gdHJ1ZSB9ID0gcmVhZE5leHREZXNjcmlwdG9yLnJlYWROZXh0RGVzY3JpcHRvcihrZXlzLCAncG9pbnRlcicpO1xuICAgICAgICBjb25zdCBrZXlEZWYgPSBwb2ludGVyTWFwLmZpbmQoKHApPT5wLm5hbWUgPT09IGRlc2NyaXB0b3IpO1xuICAgICAgICBpZiAoa2V5RGVmKSB7XG4gICAgICAgICAgICBkZWZzLnB1c2goe1xuICAgICAgICAgICAgICAgIGtleURlZixcbiAgICAgICAgICAgICAgICByZWxlYXNlUHJldmlvdXMsXG4gICAgICAgICAgICAgICAgcmVsZWFzZVNlbGZcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGtleXMgPSBrZXlzLnNsaWNlKGNvbnN1bWVkTGVuZ3RoKTtcbiAgICB9d2hpbGUgKGtleXMpXG4gICAgcmV0dXJuIGRlZnM7XG59XG5cbmV4cG9ydHMucGFyc2VLZXlEZWYgPSBwYXJzZUtleURlZjtcbiJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWTs7QUFFWkEsT0FBTyxDQUFDLG9DQUFvQyxDQUFDO0FBQzdDLElBQUlDLGtCQUFrQixHQUFHRCxPQUFPLENBQUMsdUNBQXVDLENBQUM7QUFFekUsU0FBU0UsV0FBV0EsQ0FBQ0MsVUFBVSxFQUFFQyxJQUFJLEVBQUU7RUFDbkMsTUFBTUMsSUFBSSxHQUFHLEVBQUU7RUFDZixHQUFHO0lBQ0MsTUFBTTtNQUFFQyxVQUFVO01BQUVDLGNBQWM7TUFBRUMsZUFBZTtNQUFFQyxXQUFXLEdBQUc7SUFBSyxDQUFDLEdBQUdSLGtCQUFrQixDQUFDQSxrQkFBa0IsQ0FBQ0csSUFBSSxFQUFFLFNBQVMsQ0FBQztJQUNsSSxNQUFNTSxNQUFNLEdBQUdQLFVBQVUsQ0FBQ1EsSUFBSSxDQUFFQyxDQUFDLElBQUdBLENBQUMsQ0FBQ0MsSUFBSSxLQUFLUCxVQUFVLENBQUM7SUFDMUQsSUFBSUksTUFBTSxFQUFFO01BQ1JMLElBQUksQ0FBQ1MsSUFBSSxDQUFDO1FBQ05KLE1BQU07UUFDTkYsZUFBZTtRQUNmQztNQUNKLENBQUMsQ0FBQztJQUNOO0lBQ0FMLElBQUksR0FBR0EsSUFBSSxDQUFDVyxLQUFLLENBQUNSLGNBQWMsQ0FBQztFQUNyQyxDQUFDLFFBQU9ILElBQUk7RUFDWixPQUFPQyxJQUFJO0FBQ2Y7QUFFQVcsT0FBTyxDQUFDZCxXQUFXLEdBQUdBLFdBQVciLCJpZ25vcmVMaXN0IjpbXX0=