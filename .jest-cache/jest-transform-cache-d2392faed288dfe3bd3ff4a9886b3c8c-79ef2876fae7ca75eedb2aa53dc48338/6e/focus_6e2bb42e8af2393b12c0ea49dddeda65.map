{"version":3,"names":["require","getActiveElement","isFocusable","findClosest","updateSelectionOnFocus","wrapEvent","focusElement","element","target","activeElement","ownerDocument","undefined","body","focus","blur","blurElement","wasActive","exports"],"sources":["focus.js"],"sourcesContent":["'use strict';\n\nrequire('../utils/dataTransfer/Clipboard.js');\nvar getActiveElement = require('../utils/focus/getActiveElement.js');\nvar isFocusable = require('../utils/focus/isFocusable.js');\nvar findClosest = require('../utils/misc/findClosest.js');\nvar updateSelectionOnFocus = require('./selection/updateSelectionOnFocus.js');\nvar wrapEvent = require('./wrapEvent.js');\n\n// Browsers do not dispatch FocusEvent if the document does not have focus.\n// TODO: simulate FocusEvent in browsers\n/**\n * Focus closest focusable element.\n */ function focusElement(element) {\n    const target = findClosest.findClosest(element, isFocusable.isFocusable);\n    const activeElement = getActiveElement.getActiveElement(element.ownerDocument);\n    if ((target !== null && target !== undefined ? target : element.ownerDocument.body) === activeElement) {\n        return;\n    } else if (target) {\n        wrapEvent.wrapEvent(()=>target.focus());\n    } else {\n        wrapEvent.wrapEvent(()=>activeElement === null || activeElement === undefined ? undefined : activeElement.blur());\n    }\n    updateSelectionOnFocus.updateSelectionOnFocus(target !== null && target !== undefined ? target : element.ownerDocument.body);\n}\nfunction blurElement(element) {\n    if (!isFocusable.isFocusable(element)) return;\n    const wasActive = getActiveElement.getActiveElement(element.ownerDocument) === element;\n    if (!wasActive) return;\n    wrapEvent.wrapEvent(()=>element.blur());\n}\n\nexports.blurElement = blurElement;\nexports.focusElement = focusElement;\n"],"mappings":"AAAA,YAAY;;AAEZA,OAAO,CAAC,oCAAoC,CAAC;AAC7C,IAAIC,gBAAgB,GAAGD,OAAO,CAAC,oCAAoC,CAAC;AACpE,IAAIE,WAAW,GAAGF,OAAO,CAAC,+BAA+B,CAAC;AAC1D,IAAIG,WAAW,GAAGH,OAAO,CAAC,8BAA8B,CAAC;AACzD,IAAII,sBAAsB,GAAGJ,OAAO,CAAC,uCAAuC,CAAC;AAC7E,IAAIK,SAAS,GAAGL,OAAO,CAAC,gBAAgB,CAAC;;AAEzC;AACA;AACA;AACA;AACA;AAAI,SAASM,YAAYA,CAACC,OAAO,EAAE;EAC/B,MAAMC,MAAM,GAAGL,WAAW,CAACA,WAAW,CAACI,OAAO,EAAEL,WAAW,CAACA,WAAW,CAAC;EACxE,MAAMO,aAAa,GAAGR,gBAAgB,CAACA,gBAAgB,CAACM,OAAO,CAACG,aAAa,CAAC;EAC9E,IAAI,CAACF,MAAM,KAAK,IAAI,IAAIA,MAAM,KAAKG,SAAS,GAAGH,MAAM,GAAGD,OAAO,CAACG,aAAa,CAACE,IAAI,MAAMH,aAAa,EAAE;IACnG;EACJ,CAAC,MAAM,IAAID,MAAM,EAAE;IACfH,SAAS,CAACA,SAAS,CAAC,MAAIG,MAAM,CAACK,KAAK,CAAC,CAAC,CAAC;EAC3C,CAAC,MAAM;IACHR,SAAS,CAACA,SAAS,CAAC,MAAII,aAAa,KAAK,IAAI,IAAIA,aAAa,KAAKE,SAAS,GAAGA,SAAS,GAAGF,aAAa,CAACK,IAAI,CAAC,CAAC,CAAC;EACrH;EACAV,sBAAsB,CAACA,sBAAsB,CAACI,MAAM,KAAK,IAAI,IAAIA,MAAM,KAAKG,SAAS,GAAGH,MAAM,GAAGD,OAAO,CAACG,aAAa,CAACE,IAAI,CAAC;AAChI;AACA,SAASG,WAAWA,CAACR,OAAO,EAAE;EAC1B,IAAI,CAACL,WAAW,CAACA,WAAW,CAACK,OAAO,CAAC,EAAE;EACvC,MAAMS,SAAS,GAAGf,gBAAgB,CAACA,gBAAgB,CAACM,OAAO,CAACG,aAAa,CAAC,KAAKH,OAAO;EACtF,IAAI,CAACS,SAAS,EAAE;EAChBX,SAAS,CAACA,SAAS,CAAC,MAAIE,OAAO,CAACO,IAAI,CAAC,CAAC,CAAC;AAC3C;AAEAG,OAAO,CAACF,WAAW,GAAGA,WAAW;AACjCE,OAAO,CAACX,YAAY,GAAGA,YAAY","ignoreList":[]}