6d65cb5c083755d19673ffc843090046
'use strict';

var Clipboard = require('../utils/dataTransfer/Clipboard.js');
var copySelection = require('../document/copySelection.js');
async function copy() {
  const doc = this.config.document;
  var _doc_activeElement;
  const target = (_doc_activeElement = doc.activeElement) !== null && _doc_activeElement !== undefined ? _doc_activeElement : /* istanbul ignore next */doc.body;
  const clipboardData = copySelection.copySelection(target);
  if (clipboardData.items.length === 0) {
    return;
  }
  if (this.dispatchUIEvent(target, 'copy', {
    clipboardData
  }) && this.config.writeToClipboard) {
    await Clipboard.writeDataTransferToClipboard(doc, clipboardData);
  }
  return clipboardData;
}
exports.copy = copy;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDbGlwYm9hcmQiLCJyZXF1aXJlIiwiY29weVNlbGVjdGlvbiIsImNvcHkiLCJkb2MiLCJjb25maWciLCJkb2N1bWVudCIsIl9kb2NfYWN0aXZlRWxlbWVudCIsInRhcmdldCIsImFjdGl2ZUVsZW1lbnQiLCJ1bmRlZmluZWQiLCJib2R5IiwiY2xpcGJvYXJkRGF0YSIsIml0ZW1zIiwibGVuZ3RoIiwiZGlzcGF0Y2hVSUV2ZW50Iiwid3JpdGVUb0NsaXBib2FyZCIsIndyaXRlRGF0YVRyYW5zZmVyVG9DbGlwYm9hcmQiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiY29weS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBDbGlwYm9hcmQgPSByZXF1aXJlKCcuLi91dGlscy9kYXRhVHJhbnNmZXIvQ2xpcGJvYXJkLmpzJyk7XG52YXIgY29weVNlbGVjdGlvbiA9IHJlcXVpcmUoJy4uL2RvY3VtZW50L2NvcHlTZWxlY3Rpb24uanMnKTtcblxuYXN5bmMgZnVuY3Rpb24gY29weSgpIHtcbiAgICBjb25zdCBkb2MgPSB0aGlzLmNvbmZpZy5kb2N1bWVudDtcbiAgICB2YXIgX2RvY19hY3RpdmVFbGVtZW50O1xuICAgIGNvbnN0IHRhcmdldCA9IChfZG9jX2FjdGl2ZUVsZW1lbnQgPSBkb2MuYWN0aXZlRWxlbWVudCkgIT09IG51bGwgJiYgX2RvY19hY3RpdmVFbGVtZW50ICE9PSB1bmRlZmluZWQgPyBfZG9jX2FjdGl2ZUVsZW1lbnQgOiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyBkb2MuYm9keTtcbiAgICBjb25zdCBjbGlwYm9hcmREYXRhID0gY29weVNlbGVjdGlvbi5jb3B5U2VsZWN0aW9uKHRhcmdldCk7XG4gICAgaWYgKGNsaXBib2FyZERhdGEuaXRlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMuZGlzcGF0Y2hVSUV2ZW50KHRhcmdldCwgJ2NvcHknLCB7XG4gICAgICAgIGNsaXBib2FyZERhdGFcbiAgICB9KSAmJiB0aGlzLmNvbmZpZy53cml0ZVRvQ2xpcGJvYXJkKSB7XG4gICAgICAgIGF3YWl0IENsaXBib2FyZC53cml0ZURhdGFUcmFuc2ZlclRvQ2xpcGJvYXJkKGRvYywgY2xpcGJvYXJkRGF0YSk7XG4gICAgfVxuICAgIHJldHVybiBjbGlwYm9hcmREYXRhO1xufVxuXG5leHBvcnRzLmNvcHkgPSBjb3B5O1xuIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZOztBQUVaLElBQUlBLFNBQVMsR0FBR0MsT0FBTyxDQUFDLG9DQUFvQyxDQUFDO0FBQzdELElBQUlDLGFBQWEsR0FBR0QsT0FBTyxDQUFDLDhCQUE4QixDQUFDO0FBRTNELGVBQWVFLElBQUlBLENBQUEsRUFBRztFQUNsQixNQUFNQyxHQUFHLEdBQUcsSUFBSSxDQUFDQyxNQUFNLENBQUNDLFFBQVE7RUFDaEMsSUFBSUMsa0JBQWtCO0VBQ3RCLE1BQU1DLE1BQU0sR0FBRyxDQUFDRCxrQkFBa0IsR0FBR0gsR0FBRyxDQUFDSyxhQUFhLE1BQU0sSUFBSSxJQUFJRixrQkFBa0IsS0FBS0csU0FBUyxHQUFHSCxrQkFBa0IsR0FBRywwQkFBMkJILEdBQUcsQ0FBQ08sSUFBSTtFQUMvSixNQUFNQyxhQUFhLEdBQUdWLGFBQWEsQ0FBQ0EsYUFBYSxDQUFDTSxNQUFNLENBQUM7RUFDekQsSUFBSUksYUFBYSxDQUFDQyxLQUFLLENBQUNDLE1BQU0sS0FBSyxDQUFDLEVBQUU7SUFDbEM7RUFDSjtFQUNBLElBQUksSUFBSSxDQUFDQyxlQUFlLENBQUNQLE1BQU0sRUFBRSxNQUFNLEVBQUU7SUFDckNJO0VBQ0osQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDUCxNQUFNLENBQUNXLGdCQUFnQixFQUFFO0lBQ2hDLE1BQU1oQixTQUFTLENBQUNpQiw0QkFBNEIsQ0FBQ2IsR0FBRyxFQUFFUSxhQUFhLENBQUM7RUFDcEU7RUFDQSxPQUFPQSxhQUFhO0FBQ3hCO0FBRUFNLE9BQU8sQ0FBQ2YsSUFBSSxHQUFHQSxJQUFJIiwiaWdub3JlTGlzdCI6W119