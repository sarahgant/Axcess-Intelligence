{"version":3,"names":["Object","defineProperty","exports","value","queryByRole","queryAllByRole","getByRole","getAllByRole","findByRole","findAllByRole","_domAccessibilityApi","require","_ariaQuery","_roleHelpers","_queryHelpers","_helpers","_allUtils","container","role","hidden","getConfig","defaultHidden","name","description","queryFallbacks","selected","busy","checked","pressed","current","level","expanded","now","valueNow","min","valueMin","max","valueMax","text","valueText","checkContainerType","undefined","_allRoles$get","roles","get","props","Error","_allRoles$get2","_allRoles$get3","_allRoles$get4","_allRoles$get5","_allRoles$get6","_allRoles$get7","_allRoles$get8","_allRoles$get9","_allRoles$get10","subtreeIsInaccessibleCache","WeakMap","cachedIsSubtreeInaccessible","element","has","set","isSubtreeInaccessible","Array","from","querySelectorAll","makeRoleSelector","filter","node","isRoleSpecifiedExplicitly","hasAttribute","roleValue","getAttribute","split","Boolean","some","roleAttributeToken","firstRoleAttributeToken","implicitRoles","getImplicitAriaRoles","implicitRole","computeAriaSelected","computeAriaBusy","computeAriaChecked","computeAriaPressed","computeAriaCurrent","computeAriaExpanded","computeHeadingLevel","valueMatches","computeAriaValueNow","computeAriaValueMax","computeAriaValueMin","matches","computeAriaValueText","computeAccessibleName","computedStyleSupportsPseudoElements","computeAccessibleDescription","isInaccessible","explicitRoleSelector","roleRelations","roleElements","Set","implicitRoleSelectors","map","concat","join","getNameHint","nameHint","getMultipleError","c","getMissingError","_disableExpensiveErrorDiagnostics","children","forEach","childElement","prettyRoles","includeDescription","roleMessage","length","replace","trim","descriptionHint","queryAllByRoleWithSuggestions","wrapAllByQueryWithSuggestion","buildQueries"],"sources":["role.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.queryByRole = exports.queryAllByRole = exports.getByRole = exports.getAllByRole = exports.findByRole = exports.findAllByRole = void 0;\nvar _domAccessibilityApi = require(\"dom-accessibility-api\");\nvar _ariaQuery = require(\"aria-query\");\nvar _roleHelpers = require(\"../role-helpers\");\nvar _queryHelpers = require(\"../query-helpers\");\nvar _helpers = require(\"../helpers\");\nvar _allUtils = require(\"./all-utils\");\n/* eslint-disable complexity */\n\nconst queryAllByRole = (container, role, {\n  hidden = (0, _allUtils.getConfig)().defaultHidden,\n  name,\n  description,\n  queryFallbacks = false,\n  selected,\n  busy,\n  checked,\n  pressed,\n  current,\n  level,\n  expanded,\n  value: {\n    now: valueNow,\n    min: valueMin,\n    max: valueMax,\n    text: valueText\n  } = {}\n} = {}) => {\n  (0, _helpers.checkContainerType)(container);\n  if (selected !== undefined) {\n    var _allRoles$get;\n    // guard against unknown roles\n    if (((_allRoles$get = _ariaQuery.roles.get(role)) == null ? void 0 : _allRoles$get.props['aria-selected']) === undefined) {\n      throw new Error(`\"aria-selected\" is not supported on role \"${role}\".`);\n    }\n  }\n  if (busy !== undefined) {\n    var _allRoles$get2;\n    // guard against unknown roles\n    if (((_allRoles$get2 = _ariaQuery.roles.get(role)) == null ? void 0 : _allRoles$get2.props['aria-busy']) === undefined) {\n      throw new Error(`\"aria-busy\" is not supported on role \"${role}\".`);\n    }\n  }\n  if (checked !== undefined) {\n    var _allRoles$get3;\n    // guard against unknown roles\n    if (((_allRoles$get3 = _ariaQuery.roles.get(role)) == null ? void 0 : _allRoles$get3.props['aria-checked']) === undefined) {\n      throw new Error(`\"aria-checked\" is not supported on role \"${role}\".`);\n    }\n  }\n  if (pressed !== undefined) {\n    var _allRoles$get4;\n    // guard against unknown roles\n    if (((_allRoles$get4 = _ariaQuery.roles.get(role)) == null ? void 0 : _allRoles$get4.props['aria-pressed']) === undefined) {\n      throw new Error(`\"aria-pressed\" is not supported on role \"${role}\".`);\n    }\n  }\n  if (current !== undefined) {\n    var _allRoles$get5;\n    /* istanbul ignore next */\n    // guard against unknown roles\n    // All currently released ARIA versions support `aria-current` on all roles.\n    // Leaving this for symetry and forward compatibility\n    if (((_allRoles$get5 = _ariaQuery.roles.get(role)) == null ? void 0 : _allRoles$get5.props['aria-current']) === undefined) {\n      throw new Error(`\"aria-current\" is not supported on role \"${role}\".`);\n    }\n  }\n  if (level !== undefined) {\n    // guard against using `level` option with any role other than `heading`\n    if (role !== 'heading') {\n      throw new Error(`Role \"${role}\" cannot have \"level\" property.`);\n    }\n  }\n  if (valueNow !== undefined) {\n    var _allRoles$get6;\n    // guard against unknown roles\n    if (((_allRoles$get6 = _ariaQuery.roles.get(role)) == null ? void 0 : _allRoles$get6.props['aria-valuenow']) === undefined) {\n      throw new Error(`\"aria-valuenow\" is not supported on role \"${role}\".`);\n    }\n  }\n  if (valueMax !== undefined) {\n    var _allRoles$get7;\n    // guard against unknown roles\n    if (((_allRoles$get7 = _ariaQuery.roles.get(role)) == null ? void 0 : _allRoles$get7.props['aria-valuemax']) === undefined) {\n      throw new Error(`\"aria-valuemax\" is not supported on role \"${role}\".`);\n    }\n  }\n  if (valueMin !== undefined) {\n    var _allRoles$get8;\n    // guard against unknown roles\n    if (((_allRoles$get8 = _ariaQuery.roles.get(role)) == null ? void 0 : _allRoles$get8.props['aria-valuemin']) === undefined) {\n      throw new Error(`\"aria-valuemin\" is not supported on role \"${role}\".`);\n    }\n  }\n  if (valueText !== undefined) {\n    var _allRoles$get9;\n    // guard against unknown roles\n    if (((_allRoles$get9 = _ariaQuery.roles.get(role)) == null ? void 0 : _allRoles$get9.props['aria-valuetext']) === undefined) {\n      throw new Error(`\"aria-valuetext\" is not supported on role \"${role}\".`);\n    }\n  }\n  if (expanded !== undefined) {\n    var _allRoles$get10;\n    // guard against unknown roles\n    if (((_allRoles$get10 = _ariaQuery.roles.get(role)) == null ? void 0 : _allRoles$get10.props['aria-expanded']) === undefined) {\n      throw new Error(`\"aria-expanded\" is not supported on role \"${role}\".`);\n    }\n  }\n  const subtreeIsInaccessibleCache = new WeakMap();\n  function cachedIsSubtreeInaccessible(element) {\n    if (!subtreeIsInaccessibleCache.has(element)) {\n      subtreeIsInaccessibleCache.set(element, (0, _roleHelpers.isSubtreeInaccessible)(element));\n    }\n    return subtreeIsInaccessibleCache.get(element);\n  }\n  return Array.from(container.querySelectorAll(\n  // Only query elements that can be matched by the following filters\n  makeRoleSelector(role))).filter(node => {\n    const isRoleSpecifiedExplicitly = node.hasAttribute('role');\n    if (isRoleSpecifiedExplicitly) {\n      const roleValue = node.getAttribute('role');\n      if (queryFallbacks) {\n        return roleValue.split(' ').filter(Boolean).some(roleAttributeToken => roleAttributeToken === role);\n      }\n      // other wise only send the first token to match\n      const [firstRoleAttributeToken] = roleValue.split(' ');\n      return firstRoleAttributeToken === role;\n    }\n    const implicitRoles = (0, _roleHelpers.getImplicitAriaRoles)(node);\n    return implicitRoles.some(implicitRole => {\n      return implicitRole === role;\n    });\n  }).filter(element => {\n    if (selected !== undefined) {\n      return selected === (0, _roleHelpers.computeAriaSelected)(element);\n    }\n    if (busy !== undefined) {\n      return busy === (0, _roleHelpers.computeAriaBusy)(element);\n    }\n    if (checked !== undefined) {\n      return checked === (0, _roleHelpers.computeAriaChecked)(element);\n    }\n    if (pressed !== undefined) {\n      return pressed === (0, _roleHelpers.computeAriaPressed)(element);\n    }\n    if (current !== undefined) {\n      return current === (0, _roleHelpers.computeAriaCurrent)(element);\n    }\n    if (expanded !== undefined) {\n      return expanded === (0, _roleHelpers.computeAriaExpanded)(element);\n    }\n    if (level !== undefined) {\n      return level === (0, _roleHelpers.computeHeadingLevel)(element);\n    }\n    if (valueNow !== undefined || valueMax !== undefined || valueMin !== undefined || valueText !== undefined) {\n      let valueMatches = true;\n      if (valueNow !== undefined) {\n        valueMatches && (valueMatches = valueNow === (0, _roleHelpers.computeAriaValueNow)(element));\n      }\n      if (valueMax !== undefined) {\n        valueMatches && (valueMatches = valueMax === (0, _roleHelpers.computeAriaValueMax)(element));\n      }\n      if (valueMin !== undefined) {\n        valueMatches && (valueMatches = valueMin === (0, _roleHelpers.computeAriaValueMin)(element));\n      }\n      if (valueText !== undefined) {\n        valueMatches && (valueMatches = (0, _allUtils.matches)((0, _roleHelpers.computeAriaValueText)(element) ?? null, element, valueText, text => text));\n      }\n      return valueMatches;\n    }\n    // don't care if aria attributes are unspecified\n    return true;\n  }).filter(element => {\n    if (name === undefined) {\n      // Don't care\n      return true;\n    }\n    return (0, _allUtils.matches)((0, _domAccessibilityApi.computeAccessibleName)(element, {\n      computedStyleSupportsPseudoElements: (0, _allUtils.getConfig)().computedStyleSupportsPseudoElements\n    }), element, name, text => text);\n  }).filter(element => {\n    if (description === undefined) {\n      // Don't care\n      return true;\n    }\n    return (0, _allUtils.matches)((0, _domAccessibilityApi.computeAccessibleDescription)(element, {\n      computedStyleSupportsPseudoElements: (0, _allUtils.getConfig)().computedStyleSupportsPseudoElements\n    }), element, description, text => text);\n  }).filter(element => {\n    return hidden === false ? (0, _roleHelpers.isInaccessible)(element, {\n      isSubtreeInaccessible: cachedIsSubtreeInaccessible\n    }) === false : true;\n  });\n};\nfunction makeRoleSelector(role) {\n  const explicitRoleSelector = `*[role~=\"${role}\"]`;\n  const roleRelations = _ariaQuery.roleElements.get(role) ?? new Set();\n  const implicitRoleSelectors = new Set(Array.from(roleRelations).map(({\n    name\n  }) => name));\n\n  // Current transpilation config sometimes assumes `...` is always applied to arrays.\n  // `...` is equivalent to `Array.prototype.concat` for arrays.\n  // If you replace this code with `[explicitRoleSelector, ...implicitRoleSelectors]`, make sure every transpilation target retains the `...` in favor of `Array.prototype.concat`.\n  return [explicitRoleSelector].concat(Array.from(implicitRoleSelectors)).join(',');\n}\nconst getNameHint = name => {\n  let nameHint = '';\n  if (name === undefined) {\n    nameHint = '';\n  } else if (typeof name === 'string') {\n    nameHint = ` and name \"${name}\"`;\n  } else {\n    nameHint = ` and name \\`${name}\\``;\n  }\n  return nameHint;\n};\nconst getMultipleError = (c, role, {\n  name\n} = {}) => {\n  return `Found multiple elements with the role \"${role}\"${getNameHint(name)}`;\n};\nconst getMissingError = (container, role, {\n  hidden = (0, _allUtils.getConfig)().defaultHidden,\n  name,\n  description\n} = {}) => {\n  if ((0, _allUtils.getConfig)()._disableExpensiveErrorDiagnostics) {\n    return `Unable to find role=\"${role}\"${getNameHint(name)}`;\n  }\n  let roles = '';\n  Array.from(container.children).forEach(childElement => {\n    roles += (0, _roleHelpers.prettyRoles)(childElement, {\n      hidden,\n      includeDescription: description !== undefined\n    });\n  });\n  let roleMessage;\n  if (roles.length === 0) {\n    if (hidden === false) {\n      roleMessage = 'There are no accessible roles. But there might be some inaccessible roles. ' + 'If you wish to access them, then set the `hidden` option to `true`. ' + 'Learn more about this here: https://testing-library.com/docs/dom-testing-library/api-queries#byrole';\n    } else {\n      roleMessage = 'There are no available roles.';\n    }\n  } else {\n    roleMessage = `\nHere are the ${hidden === false ? 'accessible' : 'available'} roles:\n\n  ${roles.replace(/\\n/g, '\\n  ').replace(/\\n\\s\\s\\n/g, '\\n\\n')}\n`.trim();\n  }\n  let nameHint = '';\n  if (name === undefined) {\n    nameHint = '';\n  } else if (typeof name === 'string') {\n    nameHint = ` and name \"${name}\"`;\n  } else {\n    nameHint = ` and name \\`${name}\\``;\n  }\n  let descriptionHint = '';\n  if (description === undefined) {\n    descriptionHint = '';\n  } else if (typeof description === 'string') {\n    descriptionHint = ` and description \"${description}\"`;\n  } else {\n    descriptionHint = ` and description \\`${description}\\``;\n  }\n  return `\nUnable to find an ${hidden === false ? 'accessible ' : ''}element with the role \"${role}\"${nameHint}${descriptionHint}\n\n${roleMessage}`.trim();\n};\nconst queryAllByRoleWithSuggestions = exports.queryAllByRole = (0, _queryHelpers.wrapAllByQueryWithSuggestion)(queryAllByRole, queryAllByRole.name, 'queryAll');\nconst [queryByRole, getAllByRole, getByRole, findAllByRole, findByRole] = (0, _allUtils.buildQueries)(queryAllByRole, getMultipleError, getMissingError);\nexports.findByRole = findByRole;\nexports.findAllByRole = findAllByRole;\nexports.getByRole = getByRole;\nexports.getAllByRole = getAllByRole;\nexports.queryByRole = queryByRole;"],"mappings":"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","ignoreList":[]}